{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/lib/use-permissions.ts"],"sourcesContent":["import { useAuth } from './auth-context';\r\n\r\ntype ModuleType =\r\n    | 'dashboard'\r\n    | 'products'\r\n    | 'categories'\r\n    | 'sizes'\r\n    | 'colors'\r\n    | 'orders'\r\n    | 'carousel'\r\n    | 'settings'\r\n    | 'employees'\r\n    | 'groups'\r\n    | 'logs'\r\n    | 'account_settings';\r\n\r\ntype ActionType = 'view' | 'create' | 'edit' | 'delete' | 'export' | 'update_status';\r\n\r\n/**\r\n * Hook para verificar permissões granulares de funcionários\r\n * \r\n * @example\r\n * const { canCreate, canEdit, canDelete } = usePermissions('products');\r\n * \r\n * return (\r\n *   <>\r\n *     {canCreate && <button>Criar Produto</button>}\r\n *     {canEdit && <button>Editar</button>}\r\n *     {canDelete && <button>Deletar</button>}\r\n *   </>\r\n * );\r\n */\r\nexport function usePermissions(module: ModuleType) {\r\n    const { user, isAdmin } = useAuth();\r\n\r\n    // Proprietário (admin sem employeeGroupId) tem todas as permissões\r\n    if (isAdmin && !user?.employeeGroupId) {\r\n        return {\r\n            canView: true,\r\n            canCreate: true,\r\n            canEdit: true,\r\n            canDelete: true,\r\n            canExport: true,\r\n            canUpdateStatus: true,\r\n            hasPermission: (action: ActionType) => true,\r\n        };\r\n    }\r\n\r\n    // Funcionário: verifica permissões do grupo\r\n    const groupPermissions = user?.groupPermissions || [];\r\n    const modulePermission = groupPermissions.find(\r\n        (p: any) => p.module === module\r\n    );\r\n\r\n    if (!modulePermission) {\r\n        // Sem permissão para este módulo\r\n        return {\r\n            canView: false,\r\n            canCreate: false,\r\n            canEdit: false,\r\n            canDelete: false,\r\n            canExport: false,\r\n            canUpdateStatus: false,\r\n            hasPermission: (action: ActionType) => false,\r\n        };\r\n    }\r\n\r\n    // Extrai ações permitidas\r\n    const actions = modulePermission.actions || {};\r\n\r\n    // Helper para verificar ação case-insensitive\r\n    const hasAction = (action: string) => {\r\n        if (!actions) return false;\r\n        // 1. Match exato\r\n        if (actions[action] === true) return true;\r\n        // 2. Match Capitalized (Create)\r\n        const capitalized = action.charAt(0).toUpperCase() + action.slice(1);\r\n        if (actions[capitalized] === true) return true;\r\n        // 3. Match UPPERCASE (CREATE)\r\n        if (actions[action.toUpperCase()] === true) return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    return {\r\n        canView: hasAction('view'),\r\n        canCreate: hasAction('create'),\r\n        canEdit: hasAction('edit'),\r\n        canDelete: hasAction('delete'),\r\n        canExport: hasAction('export'),\r\n        canUpdateStatus: hasAction('update_status') || hasAction('updateStatus'), // suporte a camelCase também\r\n        hasPermission: (action: ActionType) => hasAction(action),\r\n    };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;AAgCO,SAAS,eAAe,MAAkB;;IAC7C,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,6JAAO;IAEjC,mEAAmE;IACnE,IAAI,WAAW,CAAC,MAAM,iBAAiB;QACnC,OAAO;YACH,SAAS;YACT,WAAW;YACX,SAAS;YACT,WAAW;YACX,WAAW;YACX,iBAAiB;YACjB,eAAe,CAAC,SAAuB;QAC3C;IACJ;IAEA,4CAA4C;IAC5C,MAAM,mBAAmB,MAAM,oBAAoB,EAAE;IACrD,MAAM,mBAAmB,iBAAiB,IAAI,CAC1C,CAAC,IAAW,EAAE,MAAM,KAAK;IAG7B,IAAI,CAAC,kBAAkB;QACnB,iCAAiC;QACjC,OAAO;YACH,SAAS;YACT,WAAW;YACX,SAAS;YACT,WAAW;YACX,WAAW;YACX,iBAAiB;YACjB,eAAe,CAAC,SAAuB;QAC3C;IACJ;IAEA,0BAA0B;IAC1B,MAAM,UAAU,iBAAiB,OAAO,IAAI,CAAC;IAE7C,8CAA8C;IAC9C,MAAM,YAAY,CAAC;QACf;;QACA,iBAAiB;QACjB,IAAI,OAAO,CAAC,OAAO,KAAK,MAAM,OAAO;QACrC,gCAAgC;QAChC,MAAM,cAAc,OAAO,MAAM,CAAC,GAAG,WAAW,KAAK,OAAO,KAAK,CAAC;QAClE,IAAI,OAAO,CAAC,YAAY,KAAK,MAAM,OAAO;QAC1C,8BAA8B;QAC9B,IAAI,OAAO,CAAC,OAAO,WAAW,GAAG,KAAK,MAAM,OAAO;QAEnD,OAAO;IACX;IAEA,OAAO;QACH,SAAS,UAAU;QACnB,WAAW,UAAU;QACrB,SAAS,UAAU;QACnB,WAAW,UAAU;QACrB,WAAW,UAAU;QACrB,iBAAiB,UAAU,oBAAoB,UAAU;QACzD,eAAe,CAAC,SAAuB,UAAU;IACrD;AACJ;GA7DgB;;QACc,6JAAO"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,iMAAO,EAAC,IAAA,wKAAI,EAAC;AACtB"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,kMAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,mMAAI,GAAG;IAE9B,qBACE,qNAAC;QACC,aAAU;QACV,WAAW,IAAA,6IAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/components/ui/alert-dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AlertDialogPrimitive from '@radix-ui/react-alert-dialog'\n\nimport { cn } from '@/lib/utils'\nimport { buttonVariants } from '@/components/ui/button'\n\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />\n}\n\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  )\n}\n\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  )\n}\n\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  )\n}\n\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn('text-lg font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: 'outline' }), className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AAEA;AACA;AANA;;;;;AAQA,SAAS,YAAY,EACnB,GAAG,OACoD;IACvD,qBAAO,qNAAC,8MAAyB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AACtE;KAJS;AAMT,SAAS,mBAAmB,EAC1B,GAAG,OACuD;IAC1D,qBACE,qNAAC,iNAA4B;QAAC,aAAU;QAAwB,GAAG,KAAK;;;;;;AAE5E;MANS;AAQT,SAAS,kBAAkB,EACzB,GAAG,OACsD;IACzD,qBACE,qNAAC,gNAA2B;QAAC,aAAU;QAAuB,GAAG,KAAK;;;;;;AAE1E;MANS;AAQT,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,qNAAC,iNAA4B;QAC3B,aAAU;QACV,WAAW,IAAA,6IAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,qNAAC;;0BACC,qNAAC;;;;;0BACD,qNAAC,iNAA4B;gBAC3B,aAAU;gBACV,WAAW,IAAA,6IAAE,EACX,+WACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIjB;MAjBS;AAmBT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,qNAAC;QACC,aAAU;QACV,WAAW,IAAA,6IAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,qNAAC;QACC,aAAU;QACV,WAAW,IAAA,6IAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,qNAAC,+MAA0B;QACzB,aAAU;QACV,WAAW,IAAA,6IAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,qNAAC,qNAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,6IAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,qNAAC,gNAA2B;QAC1B,WAAW,IAAA,6IAAE,EAAC,IAAA,wKAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGf;MAVS;AAYT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,qNAAC,gNAA2B;QAC1B,WAAW,IAAA,6IAAE,EAAC,IAAA,wKAAc,EAAC;YAAE,SAAS;QAAU,IAAI;QACrD,GAAG,KAAK;;;;;;AAGf;OAVS"}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/app/admin/produtos/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState, useMemo } from \"react\"\nimport Image from \"next/image\"\nimport {\n  Plus,\n  Search,\n  Edit2,\n  Trash2,\n  X,\n  Upload,\n  ChevronLeft,\n  ChevronRight,\n  LayoutGrid,\n  List,\n  GripVertical,\n  Info,\n  XCircle,\n  AlertTriangle,\n  Loader2,\n} from \"lucide-react\"\nimport { useAuth } from \"@/lib/auth-context\"\nimport { usePermissions } from \"@/lib/use-permissions\"\nimport {\n  DragDropContext,\n  Droppable,\n  Draggable,\n  type DropResult,\n} from \"@hello-pangea/dnd\"\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\"\nimport { toast } from \"sonner\"\n\nconst API_BASE_URL =\n  process.env.NEXT_PUBLIC_API_BASE_URL ?? \"https://localhost:7105\"\n\ntype ViewMode = \"list\" | \"grid\"\nconst VIEW_MODE_KEY = \"adminProdutosViewMode\"\n\n// ===== Tipos auxiliares (vindo do backend) =====\n\ntype Status = \"ativo\" | \"inativo\"\n\ninterface CategoryOption {\n  id: string // Guid em string\n  nome: string\n  ativo: boolean\n}\n\ninterface SizeOption {\n  id: number\n  nome: string\n  ativo: boolean\n}\n\ninterface ColorOption {\n  id: number\n  nome: string\n  codigoHex: string\n  ativo: boolean\n}\n\ninterface ProductImageDto {\n  id: string\n  productId: string\n  url: string\n  altText?: string | null\n  isPrimary: boolean\n  displayOrder: number\n  createdAt: string\n}\n\ninterface ProductResponseDto {\n  id: string\n  categoryId: string\n  name: string\n  description?: string | null\n  price: number\n  promotionalPrice?: number | null\n  sizeIds: number[]\n  colorIds: number[]\n  isPersonalizable: boolean\n  isActive: boolean\n  createdAt: string\n  images: ProductImageDto[]\n}\n\n// Modelo usado internamente no front (nomes PT-BR)\ninterface Product {\n  id: string\n  nome: string\n  preco: number\n  precoPromocional: number | null\n  categoriaId: string\n  tamanhos: number[]\n  cores: number[]\n  status: Status\n  personalizavel: boolean\n  descricao: string\n  imagens: ProductImageDto[]\n  createdAt: string\n}\n\ninterface ModalImage {\n  id: string\n  url: string\n  file?: File\n  isNew: boolean\n}\n\nexport default function AdminProdutos() {\n  const { token, isLoading: authLoading } = useAuth()\n  const { canCreate, canEdit, canDelete } = usePermissions('products')\n\n  const [products, setProducts] = useState<Product[]>([])\n  const [categories, setCategories] = useState<CategoryOption[]>([])\n  const [sizes, setSizes] = useState<SizeOption[]>([])\n  const [colors, setColors] = useState<ColorOption[]>([])\n  const [isProductsLoading, setIsProductsLoading] = useState(true)\n\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [filterCategoria, setFilterCategoria] = useState(\"\")\n\n  const [viewMode, setViewMode] = useState<ViewMode>(() => {\n    if (typeof window === \"undefined\") return \"list\"\n    const saved = window.localStorage.getItem(VIEW_MODE_KEY) as ViewMode | null\n    return saved === \"list\" || saved === \"grid\" ? saved : \"list\"\n  })\n\n  const changeViewMode = (mode: ViewMode) => {\n    setViewMode(mode)\n    if (typeof window !== \"undefined\") {\n      window.localStorage.setItem(VIEW_MODE_KEY, mode)\n    }\n  }\n\n  const [showModal, setShowModal] = useState(false)\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null)\n\n  const [formData, setFormData] = useState({\n    nome: \"\",\n    preco: \"\",\n    precoPromocional: \"\",\n    categoriaId: \"\",\n    tamanhos: [] as number[],\n    cores: [] as number[],\n    descricao: \"\",\n    status: \"ativo\" as Status,\n    personalizavel: false,\n  })\n\n  // Estado unificado de imagens para o modal\n  const [modalImages, setModalImages] = useState<ModalImage[]>([])\n\n  // Estados para controlar AlertDialogs\n  const [deleteImageDialog, setDeleteImageDialog] = useState<{\n    open: boolean\n    index: number | null\n  }>({ open: false, index: null })\n\n  const [deleteProductDialog, setDeleteProductDialog] = useState<{\n    open: boolean\n    productId: string | null\n    productName: string\n    isActive: boolean\n  }>({ open: false, productId: null, productName: \"\", isActive: true })\n\n  const [deleteConflictOpen, setDeleteConflictOpen] = useState(false)\n  const [deleteConflictProduct, setDeleteConflictProduct] = useState<string | null>(null)\n\n  // Estados para seleção múltipla\n  const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set())\n  const [bulkDeleteDialog, setBulkDeleteDialog] = useState({\n    open: false,\n    count: 0,\n  })\n\n  // ===== Helper de headers SEM undefined =====\n  const buildAuthHeaders = (\n    extra?: Record<string, string>,\n  ): Record<string, string> => {\n    const headers: Record<string, string> = { ...(extra ?? {}) }\n\n    if (token) {\n      headers[\"Authorization\"] = `Bearer ${token}`\n    }\n\n    return headers\n  }\n\n  // ===== Carregar dados iniciais =====\n  const fetchMetadata = async () => {\n    try {\n      const [catRes, sizeRes, colorRes] = await Promise.all([\n        fetch(`${API_BASE_URL}/api/categories`, {\n          headers: buildAuthHeaders(),\n        }),\n        fetch(`${API_BASE_URL}/api/sizes`, {\n          headers: buildAuthHeaders(),\n        }),\n        fetch(`${API_BASE_URL}/api/colors`, {\n          headers: buildAuthHeaders(),\n        }),\n      ])\n\n      if (!catRes.ok || !sizeRes.ok || !colorRes.ok) {\n        console.error(\"Erro ao buscar metadados (categorias/tamanhos/cores).\")\n        return\n      }\n\n      const catJson = await catRes.json()\n      const sizeJson = await sizeRes.json()\n      const colorJson = await colorRes.json()\n\n      const mappedCategories: CategoryOption[] = (catJson ?? []).map(\n        (c: any) => ({\n          id: c.id,\n          nome: c.name as string,\n          ativo: Boolean(c.isActive),\n        }),\n      )\n\n      const mappedSizes: SizeOption[] = (sizeJson ?? []).map((s: any) => ({\n        id: s.id as number,\n        nome: s.name as string,\n        ativo: Boolean(s.isActive),\n      }))\n\n      const mappedColors: ColorOption[] = (colorJson ?? []).map((c: any) => ({\n        id: c.id as number,\n        nome: c.name as string,\n        codigoHex: c.hexCode as string,\n        ativo: Boolean(c.isActive),\n      }))\n\n      setCategories(mappedCategories)\n      setSizes(mappedSizes)\n      setColors(mappedColors)\n    } catch (error) {\n      console.error(\"Erro ao carregar metadados:\", error)\n    }\n  }\n\n  const fetchProducts = async () => {\n    setIsProductsLoading(true)\n    try {\n      const prodRes = await fetch(`${API_BASE_URL}/api/products`, {\n        headers: buildAuthHeaders(),\n        cache: \"no-store\",\n      })\n\n      if (!prodRes.ok) {\n        console.error(\"Erro ao buscar produtos.\")\n        return\n      }\n\n      const prodJson: ProductResponseDto[] = await prodRes.json()\n\n      const mappedProducts: Product[] = (prodJson ?? []).map((p) => ({\n        id: p.id,\n        nome: p.name,\n        preco: p.price,\n        precoPromocional: p.promotionalPrice ?? null,\n        categoriaId: p.categoryId,\n        tamanhos: p.sizeIds ?? [],\n        cores: p.colorIds ?? [],\n        status: p.isActive ? \"ativo\" : \"inativo\",\n        personalizavel: p.isPersonalizable,\n        descricao: p.description ?? \"\",\n        imagens: (p.images ?? [])\n          .slice()\n          .sort((a, b) => {\n            if (a.isPrimary !== b.isPrimary) return a.isPrimary ? -1 : 1\n            return a.displayOrder - b.displayOrder\n          }),\n        createdAt: p.createdAt,\n      }))\n\n      setProducts(mappedProducts)\n    } catch (error) {\n      console.error(\"Erro ao carregar produtos:\", error)\n    } finally {\n      setIsProductsLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    if (authLoading) return\n\n    // Dispara em paralelo, mas não espera um bloquear o outro\n    void fetchMetadata()\n    void fetchProducts()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [authLoading])\n\n  // ===== Filtros (memoizados) =====\n  const filteredProducts = useMemo(\n    () =>\n      products.filter((p) => {\n        const matchSearch = p.nome\n          .toLowerCase()\n          .includes(searchTerm.toLowerCase())\n        const matchCategoria =\n          !filterCategoria || p.categoriaId === filterCategoria\n        return matchSearch && matchCategoria\n      }),\n    [products, searchTerm, filterCategoria],\n  )\n\n  // ===== Ordenação: ativos primeiro, inativos no final (memoizada) =====\n  const sortedProducts = useMemo(\n    () =>\n      [...filteredProducts].sort((a, b) => {\n        if (a.status === b.status) {\n          // Dentro do mesmo status: ordenar pelos mais novos primeiro\n          const dateA = new Date(a.createdAt).getTime()\n          const dateB = new Date(b.createdAt).getTime()\n          return dateB - dateA\n        }\n\n        // Ativos primeiro, inativos no final\n        return a.status === \"ativo\" ? -1 : 1\n      }),\n    [filteredProducts],\n  )\n\n  // ===== Modal / Upload helpers =====\n  const openCreateModal = () => {\n    if (!canCreate) {\n      toast.error('Você não tem permissão para criar produtos');\n      return;\n    }\n    \n    setEditingProduct(null)\n    setFormData({\n      nome: \"\",\n      preco: \"\",\n      precoPromocional: \"\",\n      categoriaId: \"\",\n      tamanhos: [],\n      cores: [],\n      descricao: \"\",\n      status: \"ativo\",\n      personalizavel: false,\n    })\n    setModalImages([])\n    setShowModal(true)\n  }\n\n  const openEditModal = (product: Product) => {\n    if (!canEdit) {\n      toast.error('Você não tem permissão para editar produtos');\n      return;\n    }\n    \n    setEditingProduct(product)\n    setFormData({\n      nome: product.nome,\n      preco: product.preco.toString(),\n      precoPromocional: product.precoPromocional?.toString() ?? \"\",\n      categoriaId: product.categoriaId,\n      tamanhos: product.tamanhos ?? [],\n      cores: product.cores ?? [],\n      descricao: product.descricao,\n      status: product.status,\n      personalizavel: product.personalizavel ?? false,\n    })\n\n    // Carrega imagens existentes (ordem já vem organizada pelo loadData)\n    setModalImages(\n      product.imagens.map((img) => ({\n        id: img.id,\n        url: img.url,\n        isNew: false,\n      })),\n    )\n    setShowModal(true)\n  }\n\n  // ===== Gerenciamento de Imagens (Drag & Drop + Delete) =====\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = Array.from(event.target.files ?? [])\n    if (files.length === 0) return\n\n    const newImages: ModalImage[] = files.map((file) => ({\n      id: `temp-${Date.now()}-${Math.random()}`, // ID temporário\n      url: URL.createObjectURL(file),\n      file: file,\n      isNew: true,\n    }))\n\n    setModalImages((prev) => [...prev, ...newImages])\n  }\n\n  const handleDragEnd = (result: DropResult) => {\n    if (!result.destination) return\n\n    const items = Array.from(modalImages)\n    const [reorderedItem] = items.splice(result.source.index, 1)\n    items.splice(result.destination.index, 0, reorderedItem)\n\n    setModalImages(items)\n  }\n\n  const handleRemoveImage = (index: number) => {\n    const imageToRemove = modalImages[index]\n\n    if (!imageToRemove.isNew) {\n      // Imagem existente: abrir dialog de confirmação\n      setDeleteImageDialog({ open: true, index })\n    } else {\n      // Imagem nova: remover diretamente sem confirmação\n      const newImages = Array.from(modalImages)\n      newImages.splice(index, 1)\n      setModalImages(newImages)\n    }\n  }\n\n  const confirmDeleteImage = async () => {\n    const index = deleteImageDialog.index\n    if (index === null) return\n\n    const imageToRemove = modalImages[index]\n\n    try {\n      const res = await fetch(\n        `${API_BASE_URL}/api/products/images/${imageToRemove.id}`,\n        {\n          method: \"DELETE\",\n          headers: buildAuthHeaders(),\n        },\n      )\n\n      if (!res.ok) {\n        console.error(\"Erro ao excluir imagem.\")\n        toast.error(\"Erro ao excluir imagem.\")\n        setDeleteImageDialog({ open: false, index: null })\n        return\n      }\n\n      // Remove do estado\n      const newImages = Array.from(modalImages)\n      newImages.splice(index, 1)\n      setModalImages(newImages)\n      toast.success(\"Imagem excluída com sucesso!\")\n    } catch (error) {\n      console.error(\"Erro ao excluir imagem:\", error)\n      toast.error(\"Erro ao conectar ao servidor\")\n    }\n\n    setDeleteImageDialog({ open: false, index: null })\n  }\n\n  // ===== Salvar (create / update) =====\n  const handleSave = async () => {\n    // Verifica permissões\n    if (editingProduct && !canEdit) {\n      toast.error('Você não tem permissão para editar produtos');\n      return;\n    }\n    if (!editingProduct && !canCreate) {\n      toast.error('Você não tem permissão para criar produtos');\n      return;\n    }\n    \n    try {\n      const payload = {\n        categoryId: formData.categoriaId,\n        name: formData.nome,\n        description: formData.descricao || null,\n        price: Number.parseFloat(formData.preco || \"0\"),\n        promotionalPrice: formData.precoPromocional\n          ? Number.parseFloat(formData.precoPromocional)\n          : null,\n        sizeIds: formData.tamanhos,\n        colorIds: formData.cores,\n        isPersonalizable: formData.personalizavel,\n        isActive: formData.status === \"ativo\",\n      }\n\n      let productId: string | null = null\n\n      if (editingProduct) {\n        // UPDATE\n        const res = await fetch(\n          `${API_BASE_URL}/api/products/${editingProduct.id}`,\n          {\n            method: \"PUT\",\n            headers: buildAuthHeaders({\n              \"Content-Type\": \"application/json\",\n            }),\n            body: JSON.stringify(payload),\n          },\n        )\n\n        if (!res.ok) {\n          console.error(\"Erro ao atualizar produto.\")\n          return\n        }\n\n        productId = editingProduct.id\n      } else {\n        // CREATE\n        const res = await fetch(`${API_BASE_URL}/api/products`, {\n          method: \"POST\",\n          headers: buildAuthHeaders({\n            \"Content-Type\": \"application/json\",\n          }),\n          body: JSON.stringify(payload),\n        })\n\n        if (!res.ok) {\n          console.error(\"Erro ao criar produto.\")\n          return\n        }\n\n        const created: ProductResponseDto = await res.json()\n        productId = created.id\n      }\n\n      // Processar Imagens (Upload de novas + Reordenação de existentes)\n      if (productId) {\n        const reorderList: {\n          imageId: string\n          displayOrder: number\n          isPrimary: boolean\n        }[] = []\n\n        await Promise.all(\n          modalImages.map(async (img, index) => {\n            const isPrimary = index === 0\n\n            if (img.isNew && img.file) {\n              // Upload\n              const fd = new FormData()\n              fd.append(\"file\", img.file)\n              fd.append(\"isPrimary\", isPrimary ? \"true\" : \"false\")\n              fd.append(\"displayOrder\", String(index))\n\n              const url = `${API_BASE_URL}/api/products/${productId}/images`\n\n              try {\n                const res = await fetch(url, {\n                  method: \"POST\",\n                  headers: buildAuthHeaders(),\n                  body: fd,\n                })\n                if (!res.ok) {\n                  console.error(\"Falha no upload da imagem\", img.file.name)\n                }\n              } catch (e) {\n                console.error(\"Erro no upload\", e)\n              }\n            } else {\n              // Existente -> Adicionar à lista de reordenação\n              reorderList.push({\n                imageId: img.id,\n                displayOrder: index,\n                isPrimary: isPrimary,\n              })\n            }\n          }),\n        )\n\n        if (reorderList.length > 0) {\n          try {\n            await fetch(\n              `${API_BASE_URL}/api/products/${productId}/images/reorder`,\n              {\n                method: \"POST\",\n                headers: buildAuthHeaders({\n                  \"Content-Type\": \"application/json\",\n                }),\n                body: JSON.stringify(reorderList),\n              },\n            )\n          } catch (e) {\n            console.error(\"Erro ao reordenar imagens\", e)\n          }\n        }\n      }\n\n      await fetchProducts()\n\n      setShowModal(false)\n      setEditingProduct(null)\n    } catch (error) {\n      console.error(\"Erro ao salvar produto:\", error)\n    }\n  }\n\n  // ===== Delete com regra: 1º clique inativa, 2º clique tenta remover =====\n  const handleDelete = (id: string) => {\n    if (!canDelete) {\n      toast.error('Você não tem permissão para deletar produtos');\n      return;\n    }\n    \n    const target = products.find((p) => p.id === id)\n    if (!target) return\n\n    setDeleteProductDialog({\n      open: true,\n      productId: id,\n      productName: target.nome,\n      isActive: target.status === \"ativo\",\n    })\n  }\n\n  const confirmDeleteProduct = async () => {\n    const { productId, isActive } = deleteProductDialog\n    if (!productId) return\n\n    try {\n      const res = await fetch(\n        `${API_BASE_URL}/api/products/${productId}`,\n        {\n          method: \"DELETE\",\n          headers: buildAuthHeaders(),\n        },\n      )\n\n      if (!res.ok) {\n        // tenta ler o corpo de erro (caso venha ProblemDetails / mensagem customizada)\n        let errorMessage = \"\"\n        try {\n          const data = await res.json()\n          const rawMessage =\n            data?.message ??\n            data?.title ??\n            data?.detail ??\n            data?.error ??\n            \"\"\n          errorMessage = String(rawMessage ?? \"\")\n        } catch {\n          // se não conseguir parsear, segue sem mensagem\n        }\n\n        const normalizedMessage = errorMessage.toLowerCase()\n\n        // heurística: considera \"vinculado a pedido\" mesmo que venha 500\n        const isLinkedToOrder =\n          res.status === 400 ||\n          res.status === 409 ||\n          res.status === 500 ||\n          normalizedMessage.includes(\"vinculado\") ||\n          normalizedMessage.includes(\"pedido\")\n\n        if (isLinkedToOrder) {\n          // Abre o alerta de conflito e NÃO mostra toast genérico ou console.error\n          setDeleteConflictProduct(deleteProductDialog.productName)\n          setDeleteConflictOpen(true)\n        } else {\n          // Erro real/inesperado\n          console.error(\n            \"Erro ao excluir produto. Status:\",\n            res.status,\n            errorMessage,\n          )\n          toast.error(\"Erro ao excluir produto.\")\n        }\n\n        setDeleteProductDialog({\n          open: false,\n          productId: null,\n          productName: \"\",\n          isActive: true,\n        })\n        return\n      }\n\n      // ======= SUCESSO =======\n      if (isActive) {\n        // 1º clique: apenas marca como inativo (não some da lista)\n        setProducts((prev) =>\n          prev.map((p) =>\n            p.id === productId\n              ? {\n                  ...p,\n                  status: \"inativo\" as Status,\n                }\n              : p,\n          ),\n        )\n        toast.success(\"Produto marcado como inativo!\")\n      } else {\n        // 2º clique: remove da lista (quando backend conseguir deletar de fato)\n        setProducts((prev) => prev.filter((p) => p.id !== productId))\n        toast.success(\"Produto excluído permanentemente!\")\n      }\n    } catch (error) {\n      console.error(\"Erro ao excluir produto:\", error)\n      toast.error(\"Erro ao conectar ao servidor\")\n    }\n\n    setDeleteProductDialog({\n      open: false,\n      productId: null,\n      productName: \"\",\n      isActive: true,\n    })\n  }\n\n  // ======= Lógica de Seleção Múltipla =======\n\n  const toggleSelect = (id: string) => {\n    const newSelected = new Set(selectedIds)\n    if (newSelected.has(id)) {\n      newSelected.delete(id)\n    } else {\n      newSelected.add(id)\n    }\n    setSelectedIds(newSelected)\n  }\n\n  const toggleSelectAll = () => {\n    if (selectedIds.size === sortedProducts.length) {\n      setSelectedIds(new Set())\n    } else {\n      setSelectedIds(new Set(sortedProducts.map((p) => p.id)))\n    }\n  }\n\n  const confirmBulkDelete = async () => {\n    const idsToDelete = Array.from(selectedIds)\n    setBulkDeleteDialog({ open: false, count: 0 })\n\n    let successCount = 0\n    let failCount = 0\n\n    // Processar em paralelo\n    const results = await Promise.allSettled(\n      idsToDelete.map(async (id) => {\n        const product = products.find((p) => p.id === id)\n        if (!product) return { success: false, id }\n\n        const res = await fetch(`${API_BASE_URL}/api/products/${id}`, {\n          method: \"DELETE\",\n          headers: buildAuthHeaders(),\n        })\n\n        // Verificar se houve conflito\n        if (!res.ok && res.status !== 204) {\n          // Se não deu ok/204, consideramos falha para fins de feedback\n          return { success: false, id }\n        }\n\n        return { success: true, id, wasActive: product.status === \"ativo\" }\n      }),\n    )\n\n    // Atualizar estado local\n    const newProducts = [...products]\n\n    results.forEach((result) => {\n      if (result.status === \"fulfilled\" && result.value.success) {\n        successCount++\n        const { id, wasActive } = result.value\n\n        const index = newProducts.findIndex((p) => p.id === id)\n        if (index !== -1) {\n          if (wasActive) {\n            // Se estava ativo, vira inativo\n            newProducts[index] = { ...newProducts[index], status: \"inativo\" }\n          } else {\n            // Se estava inativo, remove\n            newProducts.splice(index, 1)\n          }\n        }\n      } else {\n        failCount++\n      }\n    })\n\n    setProducts(newProducts)\n    setSelectedIds(new Set())\n\n    if (successCount > 0) {\n      toast.success(`${successCount} produtos processados com sucesso!`)\n    }\n    if (failCount > 0) {\n      toast.error(\n        `${failCount} produtos não puderam ser excluídos (possível conflito).`,\n      )\n    }\n  }\n\n  // ===== Render =====\n  return (\n    <div className=\"p-8\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-8\">\n        <div>\n          <h1 className=\"text-3xl font-light text-foreground\">Produtos</h1>\n          <p className=\"text-foreground/60\">\n            Gerencie seu catálogo de produtos\n          </p>\n        </div>\n        {canCreate && (\n          <button\n            onClick={openCreateModal}\n            className=\"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg font-medium hover:bg-primary/90 transition-colors\"\n          >\n            <Plus size={18} />\n            Novo Produto\n          </button>\n        )}\n      </div>\n\n      {/* Alerta de Instruções de Exclusão */}\n      <div className=\"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4 flex gap-3\">\n        <Info className=\"text-blue-600 flex-shrink-0 mt-0.5\" size={20} />\n        <div className=\"text-sm text-blue-900\">\n          <p className=\"font-medium mb-1\">Como funciona a exclusão:</p>\n          <ul className=\"list-disc list-inside space-y-1 text-blue-800\">\n            <li>\n              <strong>1º clique na lixeira:</strong> O produto fica inativo.\n            </li>\n            <li>\n              <strong>2º clique na lixeira:</strong> Se não houver vínculos a\n              pedidos, o produto é removido permanentemente. Se houver vínculos,\n              permanece inativo.\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex flex-col sm:flex-row gap-4 mb-6 justify-between\">\n        <div className=\"flex flex-1 gap-4\">\n          <div className=\"relative flex-1\">\n            <Search\n              size={18}\n              className=\"absolute left-3 top-1/2 -translate-y-1/2 text-foreground/50\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Buscar por nome...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent\"\n            />\n          </div>\n          <select\n            value={filterCategoria}\n            onChange={(e) => setFilterCategoria(e.target.value)}\n            className=\"px-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent\"\n          >\n            <option value=\"\">Todas as categorias</option>\n            {categories.map((cat) => (\n              <option key={cat.id} value={cat.id}>\n                {cat.nome}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"flex items-center bg-muted rounded-lg p-1 border border-border\">\n          <button\n            onClick={() => changeViewMode(\"list\")}\n            className={`p-2 rounded-md transition-all ${\n              viewMode === \"list\"\n                ? \"bg-background shadow-sm text-foreground\"\n                : \"text-foreground/60 hover:text-foreground\"\n            }`}\n          >\n            <List size={18} />\n          </button>\n          <button\n            onClick={() => changeViewMode(\"grid\")}\n            className={`p-2 rounded-md transition-all ${\n              viewMode === \"grid\"\n                ? \"bg-background shadow-sm text-foreground\"\n                : \"text-foreground/60 hover:text-foreground\"\n            }`}\n          >\n            <LayoutGrid size={18} />\n          </button>\n        </div>\n      </div>\n\n      {/* Bulk Actions Bar */}\n      {selectedIds.size > 0 && viewMode === \"list\" && (\n        <div className=\"mb-4 p-4 bg-primary/5 border border-primary/20 rounded-xl flex items-center justify-between animate-in fade-in slide-in-from-top-2\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-medium text-sm\">\n              {selectedIds.size}\n            </div>\n            <span className=\"text-sm font-medium text-foreground\">\n              produtos selecionados\n            </span>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <button\n              onClick={() => setSelectedIds(new Set())}\n              className=\"text-sm text-foreground/60 hover:text-foreground transition-colors\"\n            >\n              Cancelar\n            </button>\n            <button\n              onClick={() =>\n                setBulkDeleteDialog({ open: true, count: selectedIds.size })\n              }\n              className=\"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-sm\"\n            >\n              <Trash2 size={16} />\n              <span className=\"font-medium\">Excluir selecionados</span>\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Content */}\n      {isProductsLoading ? (\n        <div className=\"flex flex-col items-center justify-center py-12 text-muted-foreground\">\n          <Loader2 className=\"h-8 w-8 animate-spin mb-2 text-primary\" />\n          <p>Carregando produtos...</p>\n        </div>\n      ) : viewMode === \"grid\" ? (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n          {sortedProducts.map((product) => {\n            const categoriaNome =\n              categories.find((c) => c.id === product.categoriaId)?.nome ?? \"-\"\n            const mainImage =\n              product.imagens.length > 0\n                ? product.imagens[0].url\n                : \"/placeholder.svg\"\n\n            const isInactive = product.status === \"inativo\"\n\n            return (\n              <div\n                key={product.id}\n                className={`bg-card border rounded-xl overflow-hidden transition-all ${\n                  isInactive ? \"border-border/50 opacity-70\" : \"border-border\"\n                }`}\n              >\n                <div className=\"aspect-square relative bg-muted\">\n                  <Image\n                    src={mainImage}\n                    alt={product.nome}\n                    fill\n                    sizes=\"(max-width: 768px) 50vw, 25vw\"\n                    className=\"object-cover\"\n                  />\n                  <div className=\"absolute top-2 right-2 flex gap-1\">\n                    {canEdit && (\n                      <button\n                        onClick={() => openEditModal(product)}\n                        className=\"p-2 bg-background/80 backdrop-blur-sm text-foreground/80 hover:text-primary rounded-lg transition-colors shadow-sm\"\n                      >\n                        <Edit2 size={16} />\n                      </button>\n                    )}\n                    {canDelete && (\n                      <button\n                        onClick={() => handleDelete(product.id)}\n                        className=\"p-2 bg-background/80 backdrop-blur-sm text-foreground/80 hover:text-red-600 rounded-lg transition-colors shadow-sm\"\n                      >\n                        <Trash2 size={16} />\n                      </button>\n                    )}\n                  </div>\n                  {product.precoPromocional && (\n                    <div className=\"absolute top-2 left-2 px-2 py-1 bg-accent text-accent-foreground text-xs font-bold rounded-md shadow-sm\">\n                      PROMOÇÃO\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"p-4\">\n                  <div className=\"flex items-start justify-between mb-2 gap-2\">\n                    <div>\n                      <p className=\"text-xs text-foreground/60 mb-1\">\n                        {categoriaNome}\n                      </p>\n                      <h3 className=\"font-medium text-foreground line-clamp-2 leading-tight\">\n                        {product.nome}\n                      </h3>\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-end justify-between mt-4\">\n                    <div>\n                      {product.precoPromocional ? (\n                        <div className=\"flex flex-col\">\n                          <span className=\"text-xs text-foreground/50 line-through\">\n                            R$ {product.preco.toFixed(2)}\n                          </span>\n                          <span className=\"font-bold text-accent\">\n                            R$ {product.precoPromocional.toFixed(2)}\n                          </span>\n                        </div>\n                      ) : (\n                        <span className=\"font-bold text-foreground\">\n                          R$ {product.preco.toFixed(2)}\n                        </span>\n                      )}\n                    </div>\n\n                    <span\n                      className={`px-2 py-1 rounded-full text-xs font-medium ${\n                        product.status === \"ativo\"\n                          ? \"bg-green-100 text-green-700\"\n                          : \"bg-gray-100 text-gray-700\"\n                      }`}\n                    >\n                      {product.status === \"ativo\" ? \"Ativo\" : \"Inativo\"}\n                    </span>\n                  </div>\n                  <div className=\"mt-4 pt-4 border-t border-border flex justify-end\">\n                    <span className=\"text-xs text-foreground/40\">\n                      {new Date(product.createdAt).toLocaleDateString(\"pt-BR\")}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      ) : (\n        <div className=\"bg-card border border-border rounded-xl overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-muted border-b border-border\">\n                <tr>\n                  <th className=\"w-[50px] px-6 py-4\">\n                    {canDelete && (\n                      <input\n                        type=\"checkbox\"\n                        checked={\n                          sortedProducts.length > 0 &&\n                          selectedIds.size === sortedProducts.length\n                        }\n                        onChange={toggleSelectAll}\n                        className=\"w-4 h-4 rounded border-border text-primary focus:ring-primary accent-primary\"\n                      />\n                    )}\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-foreground\">\n                    Produto\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-foreground\">\n                    Preço\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-foreground\">\n                    Categoria\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-foreground\">\n                    Status\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-foreground\">\n                    Criado em\n                  </th>\n                  <th className=\"px-6 py-4 text-center text-sm font-medium text-foreground\">\n                    Ações\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-border\">\n                {sortedProducts.map((product) => {\n                  const categoriaNome =\n                    categories.find((c) => c.id === product.categoriaId)\n                      ?.nome ?? \"-\"\n                  const mainImage =\n                    product.imagens.length > 0\n                      ? product.imagens[0].url\n                      : \"/placeholder.svg\"\n\n                  const isInactive = product.status === \"inativo\"\n\n                  return (\n                    <tr\n                      key={product.id}\n                      className={`transition-colors ${\n                        isInactive\n                          ? \"opacity-70 bg-muted/30\"\n                          : \"hover:bg-muted/50\"\n                      }`}\n                    >\n                      <td className=\"px-6 py-4\">\n                        {canDelete && (\n                          <input\n                            type=\"checkbox\"\n                            checked={selectedIds.has(product.id)}\n                            onChange={() => toggleSelect(product.id)}\n                            className=\"w-4 h-4 rounded border-border text-primary focus:ring-primary accent-primary\"\n                          />\n                        )}\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"w-12 h-12 rounded-lg bg-muted overflow-hidden\">\n                            <Image\n                              src={mainImage}\n                              alt={product.nome}\n                              width={48}\n                              height={48}\n                              className=\"w-full h-full object-cover\"\n                            />\n                          </div>\n                          <span className=\"font-medium text-foreground\">\n                            {product.nome}\n                          </span>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div>\n                          {product.precoPromocional ? (\n                            <>\n                              <span className=\"text-sm text-foreground/50 line-through\">\n                                R$ {product.preco.toFixed(2)}\n                              </span>\n                              <span className=\"ml-2 font-medium text-accent\">\n                                R$ {product.precoPromocional.toFixed(2)}\n                              </span>\n                            </>\n                          ) : (\n                            <span className=\"font-medium text-foreground\">\n                              R$ {product.preco.toFixed(2)}\n                            </span>\n                          )}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 text-sm text-foreground/70\">\n                        {categoriaNome}\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <span\n                          className={`px-2 py-1 rounded-full text-xs font-medium ${\n                            product.status === \"ativo\"\n                              ? \"bg-green-100 text-green-700\"\n                              : \"bg-red-100 text-red-700\"\n                          }`}\n                        >\n                          {product.status === \"ativo\" ? \"Ativo\" : \"Inativo\"}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 text-sm text-foreground/70\">\n                        {new Date(product.createdAt).toLocaleDateString(\n                          \"pt-BR\",\n                        )}\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className=\"flex items-center justify-center gap-2\">\n                          {canEdit && (\n                            <button\n                              onClick={() => openEditModal(product)}\n                              className=\"p-2 text-foreground/60 hover:text-primary hover:bg-muted rounded-lg transition-colors\"\n                            >\n                              <Edit2 size={16} />\n                            </button>\n                          )}\n                          {canDelete && (\n                            <button\n                              onClick={() => handleDelete(product.id)}\n                              className=\"p-2 text-foreground/60 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\n                            >\n                              <Trash2 size={16} />\n                            </button>\n                          )}\n                        </div>\n                      </td>\n                    </tr>\n                  )\n                })}\n              </tbody>\n            </table>\n          </div>\n\n          {/* Pagination (mock visual) */}\n          <div className=\"flex items-center justify-between px-6 py-4 border-t border-border\">\n            <p className=\"text-sm text-foreground/60\">\n              Mostrando {filteredProducts.length} de {products.length} produtos\n            </p>\n            <div className=\"flex items-center gap-2\">\n              <button className=\"p-2 border border-border rounded-lg hover:bg-muted transition-colors\">\n                <ChevronLeft size={16} />\n              </button>\n              <button className=\"px-3 py-1 bg-primary text-primary-foreground rounded-lg text-sm\">\n                1\n              </button>\n              <button className=\"px-3 py-1 hover:bg-muted rounded-lg text-sm\">\n                2\n              </button>\n              <button className=\"p-2 border border-border rounded-lg hover:bg-muted transition-colors\">\n                <ChevronRight size={16} />\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-card border border-border rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex items-center justify-between p-6 border-b border-border\">\n              <h2 className=\"text-xl font-medium text-foreground\">\n                {editingProduct ? \"Editar Produto\" : \"Novo Produto\"}\n              </h2>\n              <button\n                onClick={() => setShowModal(false)}\n                className=\"text-foreground/60 hover:text-foreground\"\n              >\n                <X size={20} />\n              </button>\n            </div>\n\n            <div className=\"p-6 space-y-4\">\n              {/* Image Upload with Drag and Drop */}\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\n                  Imagens\n                </label>\n\n                <label className=\"block border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-accent transition-colors cursor-pointer mb-4\">\n                  <input\n                    type=\"file\"\n                    multiple\n                    accept=\"image/*\"\n                    className=\"hidden\"\n                    onChange={handleFileChange}\n                  />\n                  <Upload\n                    size={32}\n                    className=\"mx-auto text-foreground/40 mb-2\"\n                  />\n                  <p className=\"text-sm text-foreground/60\">\n                    Clique ou arraste imagens aqui\n                  </p>\n                  <p className=\"text-xs text-foreground/40 mt-1\">\n                    PNG, JPG até 5MB\n                  </p>\n                </label>\n\n                {modalImages.length > 0 && (\n                  <DragDropContext onDragEnd={handleDragEnd}>\n                    <Droppable droppableId=\"images\" direction=\"horizontal\">\n                      {(provided) => (\n                        <div\n                          {...provided.droppableProps}\n                          ref={provided.innerRef}\n                          className=\"grid grid-cols-3 gap-3\"\n                        >\n                          {modalImages.map((img, index) => (\n                            <Draggable\n                              key={img.id}\n                              draggableId={img.id}\n                              index={index}\n                            >\n                              {(provided) => (\n                                <div\n                                  ref={provided.innerRef}\n                                  {...provided.draggableProps}\n                                  {...provided.dragHandleProps}\n                                  className=\"relative w-full h-24 rounded-lg overflow-hidden bg-muted border border-border group\"\n                                >\n                                  <Image\n                                    src={img.url}\n                                    alt={`Imagem ${index + 1}`}\n                                    width={120}\n                                    height={96}\n                                    className=\"w-full h-full object-cover\"\n                                  />\n                                  <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2\">\n                                    <GripVertical\n                                      className=\"text-white cursor-move\"\n                                      size={20}\n                                    />\n                                    <button\n                                      type=\"button\"\n                                      onClick={() => handleRemoveImage(index)}\n                                      className=\"p-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors\"\n                                    >\n                                      <X size={16} />\n                                    </button>\n                                  </div>\n                                  {index === 0 && (\n                                    <div className=\"absolute top-1 left-1 px-1.5 py-0.5 bg-primary text-primary-foreground text-[10px] font-bold rounded shadow-sm\">\n                                      Principal\n                                    </div>\n                                  )}\n                                </div>\n                              )}\n                            </Draggable>\n                          ))}\n                          {provided.placeholder}\n                        </div>\n                      )}\n                    </Droppable>\n                  </DragDropContext>\n                )}\n              </div>\n\n              <div className=\"grid grid-cols-1 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-foreground mb-2\">\n                    Nome do Produto\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.nome}\n                    onChange={(e) =>\n                      setFormData({ ...formData, nome: e.target.value })\n                    }\n                    className=\"w-full px-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-foreground mb-2\">\n                    Preço (R$)\n                  </label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={formData.preco}\n                    onChange={(e) =>\n                      setFormData({ ...formData, preco: e.target.value })\n                    }\n                    className=\"w-full px-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-foreground mb-2\">\n                    Preço Promocional\n                  </label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={formData.precoPromocional}\n                    onChange={(e) =>\n                      setFormData({\n                        ...formData,\n                        precoPromocional: e.target.value,\n                      })\n                    }\n                    className=\"w-full px-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent\"\n                    placeholder=\"Opcional\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-foreground mb-2\">\n                    Categoria\n                  </label>\n                  <select\n                    value={formData.categoriaId}\n                    onChange={(e) =>\n                      setFormData({\n                        ...formData,\n                        categoriaId: e.target.value,\n                      })\n                    }\n                    className=\"w-full px-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent\"\n                  >\n                    <option value=\"\">Selecione...</option>\n                    {categories\n                      .filter((cat) => cat.ativo)\n                      .map((cat) => (\n                        <option key={cat.id} value={cat.id}>\n                          {cat.nome}\n                        </option>\n                      ))}\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-foreground mb-2\">\n                    Status\n                  </label>\n                  <select\n                    value={formData.status}\n                    onChange={(e) =>\n                      setFormData({\n                        ...formData,\n                        status: e.target.value as Status,\n                      })\n                    }\n                    className=\"w-full px-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent\"\n                  >\n                    <option value=\"ativo\">Ativo</option>\n                    <option value=\"inativo\">Inativo</option>\n                  </select>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\n                  Tamanhos\n                </label>\n                <div className=\"flex flex-wrap gap-2 p-2 border border-border rounded-lg bg-background min-h-[42px]\">\n                  {sizes\n                    .filter((size) => size.ativo)\n                    .map((size) => (\n                      <label\n                        key={size.id}\n                        className={`flex items-center gap-1 px-2 py-1 rounded cursor-pointer text-sm border transition-colors ${\n                          formData.tamanhos.includes(size.id)\n                            ? \"bg-primary/10 border-primary text-primary\"\n                            : \"bg-muted border-transparent text-foreground/70 hover:bg-muted/80\"\n                        }`}\n                      >\n                        <input\n                          type=\"checkbox\"\n                          className=\"hidden\"\n                          checked={formData.tamanhos.includes(size.id)}\n                          onChange={(e) => {\n                            const newSizes = e.target.checked\n                              ? [...formData.tamanhos, size.id]\n                              : formData.tamanhos.filter((id) => id !== size.id)\n                            setFormData({ ...formData, tamanhos: newSizes })\n                          }}\n                        />\n                        {size.nome}\n                      </label>\n                    ))}\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\n                  Cores\n                </label>\n                <div className=\"flex flex-wrap gap-2 p-2 border border-border rounded-lg bg-background min-h-[42px]\">\n                  {colors\n                    .filter((c) => c.ativo)\n                    .map((color) => (\n                      <label\n                        key={color.id}\n                        className={`flex items-center gap-2 px-3 py-2 rounded cursor-pointer text-sm border transition-colors ${\n                          formData.cores.includes(color.id)\n                            ? \"bg-primary/10 border-primary text-primary\"\n                            : \"bg-muted border-transparent text-foreground/70 hover:bg-muted/80\"\n                        }`}\n                      >\n                        <input\n                          type=\"checkbox\"\n                          className=\"hidden\"\n                          checked={formData.cores.includes(color.id)}\n                          onChange={(e) => {\n                            const newColors = e.target.checked\n                              ? [...formData.cores, color.id]\n                              : formData.cores.filter((id) => id !== color.id)\n                            setFormData({\n                              ...formData,\n                              cores: newColors,\n                            })\n                          }}\n                        />\n                        <div\n                          className=\"w-4 h-4 rounded-full border border-border\"\n                          style={{ backgroundColor: color.codigoHex }}\n                        />\n                        {color.nome}\n                      </label>\n                    ))}\n                </div>\n              </div>\n\n              <div className=\"flex items-center gap-2 pt-4\">\n                <input\n                  type=\"checkbox\"\n                  id=\"personalizavel\"\n                  checked={formData.personalizavel}\n                  onChange={(e) =>\n                    setFormData({\n                      ...formData,\n                      personalizavel: e.target.checked,\n                    })\n                  }\n                  className=\"w-4 h-4 rounded border-border text-primary focus:ring-primary\"\n                />\n                <label\n                  htmlFor=\"personalizavel\"\n                  className=\"text-sm font-medium text-foreground cursor-pointer\"\n                >\n                  Produto Personalizável\n                </label>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\n                  Descrição\n                </label>\n                <textarea\n                  rows={3}\n                  value={formData.descricao}\n                  onChange={(e) =>\n                    setFormData({ ...formData, descricao: e.target.value })\n                  }\n                  className=\"w-full px-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent resize-none\"\n                />\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-end gap-3 p-6 border-t border-border\">\n              <button\n                onClick={() => setShowModal(false)}\n                className=\"px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors\"\n              >\n                Cancelar\n              </button>\n              {((editingProduct && canEdit) || (!editingProduct && canCreate)) && (\n                <button\n                  onClick={handleSave}\n                  className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors\"\n                >\n                  {editingProduct ? \"Salvar Alterações\" : \"Criar Produto\"}\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Alert – Remover Imagem */}\n      <AlertDialog\n        open={deleteImageDialog.open}\n        onOpenChange={(open) => {\n          if (!open) {\n            setDeleteImageDialog({ open: false, index: null })\n          }\n        }}\n      >\n        <AlertDialogContent className=\"max-w-md\">\n          <AlertDialogHeader>\n            <AlertDialogTitle>Remover imagem</AlertDialogTitle>\n            <AlertDialogDescription>\n              Essa imagem será removida do produto. Essa ação não poderá ser\n              desfeita.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancelar</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={confirmDeleteImage}\n              className=\"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500\"\n            >\n              Remover imagem\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {/* Alert – Inativar / Excluir Produto */}\n      <AlertDialog\n        open={deleteProductDialog.open}\n        onOpenChange={(open) => {\n          if (!open) {\n            setDeleteProductDialog({\n              open: false,\n              productId: null,\n              productName: \"\",\n              isActive: true,\n            })\n          }\n        }}\n      >\n        <AlertDialogContent className=\"max-w-md\">\n          <AlertDialogHeader>\n            <AlertDialogTitle>\n              {deleteProductDialog.isActive\n                ? \"Marcar produto como inativo?\"\n                : \"Excluir produto permanentemente?\"}\n            </AlertDialogTitle>\n            <AlertDialogDescription>\n              {deleteProductDialog.isActive ? (\n                <>\n                  O produto ficará{\" \"}\n                  <span className=\"font-semibold\">inativo</span> e não será\n                  exibido para os clientes.\n                  <br />\n                  <br />\n                  {deleteProductDialog.productName && (\n                    <>\n                      Produto:{\" \"}\n                      <span className=\"font-semibold\">\n                        {deleteProductDialog.productName}\n                      </span>\n                    </>\n                  )}\n                </>\n              ) : (\n                <>\n                  O produto será{\" \"}\n                  <span className=\"font-semibold\">\n                    excluído permanentemente\n                  </span>{\" \"}\n                  caso não esteja vinculado a nenhum pedido.\n                  <br />\n                  <br />\n                  {deleteProductDialog.productName && (\n                    <>\n                      Produto:{\" \"}\n                      <span className=\"font-semibold\">\n                        {deleteProductDialog.productName}\n                      </span>\n                    </>\n                  )}\n                </>\n              )}\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancelar</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={confirmDeleteProduct}\n              className={\n                deleteProductDialog.isActive\n                  ? \"bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-500\"\n                  : \"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500\"\n              }\n            >\n              {deleteProductDialog.isActive\n                ? \"Sim, deixar inativo\"\n                : \"Sim, excluir permanentemente\"}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {/* Alert – Produto Vinculado a Pedido */}\n      <AlertDialog\n        open={deleteConflictOpen}\n        onOpenChange={setDeleteConflictOpen}\n      >\n        <AlertDialogContent className=\"overflow-hidden border-0 max-w-md\">\n          <div className=\"bg-white rounded-2xl p-6\">\n            <AlertDialogHeader>\n              <AlertDialogTitle className=\"flex items-center gap-2 text-red-900\">\n                <XCircle className=\"w-5 h-5 text-red-500\" />\n                Produto não pode ser excluído\n              </AlertDialogTitle>\n\n              <AlertDialogDescription className=\"space-y-3 text-gray-600\">\n                <span className=\"block\">\n                  Este produto não pode ser excluído pois já está vinculado a{\" \"}\n                  <strong>um ou mais pedidos realizados</strong>.\n                </span>\n\n                {deleteConflictProduct && (\n                  <span className=\"block rounded-xl bg-gray-100 px-4 py-3 text-sm\">\n                    <span className=\"font-medium text-gray-900\">Produto:</span>{\" \"}\n                    {deleteConflictProduct}\n                  </span>\n                )}\n\n                <span className=\"mt-1 flex items-start gap-2 text-xs bg-amber-50 border border-amber-200 rounded-lg p-3\">\n                  <AlertTriangle className=\"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0\" />\n                  <span>\n                    Para manter o histórico dos pedidos, produtos associados não\n                    podem ser removidos. Eles permanecem como{\" \"}\n                    <strong>inativos</strong>.\n                  </span>\n                </span>\n              </AlertDialogDescription>\n            </AlertDialogHeader>\n\n            <AlertDialogFooter className=\"mt-6 gap-3\">\n              <AlertDialogAction\n                onClick={() => setDeleteConflictOpen(false)}\n                className=\"bg-blue-600 hover:bg-blue-700 text-white rounded-xl\"\n              >\n                Fechar\n              </AlertDialogAction>\n            </AlertDialogFooter>\n          </div>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {/* Alert – Bulk Delete */}\n      <AlertDialog\n        open={bulkDeleteDialog.open}\n        onOpenChange={(open) =>\n          setBulkDeleteDialog((prev) => ({ ...prev, open }))\n        }\n      >\n        <AlertDialogContent className=\"max-w-md\">\n          <AlertDialogHeader>\n            <AlertDialogTitle>\n              Excluir {bulkDeleteDialog.count} produtos?\n            </AlertDialogTitle>\n            <AlertDialogDescription>\n              Você selecionou <strong>{bulkDeleteDialog.count} produtos</strong>{\" \"}\n              para exclusão.\n              <br />\n              <br />\n              <ul className=\"list-disc list-inside space-y-1 text-sm\">\n                <li>\n                  Produtos ativos serão marcados como{\" \"}\n                  <strong>inativos</strong>.\n                </li>\n                <li>\n                  Produtos inativos serão{\" \"}\n                  <strong>excluídos permanentemente</strong>.\n                </li>\n                <li>\n                  Produtos com vínculos serão mantidos (apenas inativados).\n                </li>\n              </ul>\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancelar</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={confirmBulkDelete}\n              className=\"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500\"\n            >\n              Confirmar exclusão em lote\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}}]
}