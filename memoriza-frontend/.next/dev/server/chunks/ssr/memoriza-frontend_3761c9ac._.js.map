{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,8LAAO,EAAC,IAAA,qKAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,+LAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,gMAAI,GAAG;IAE9B,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,0IAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/components/ui/alert-dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AlertDialogPrimitive from '@radix-ui/react-alert-dialog'\n\nimport { cn } from '@/lib/utils'\nimport { buttonVariants } from '@/components/ui/button'\n\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />\n}\n\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  )\n}\n\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  )\n}\n\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  )\n}\n\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn('text-lg font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: 'outline' }), className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AAEA;AACA;AANA;;;;;AAQA,SAAS,YAAY,EACnB,GAAG,OACoD;IACvD,qBAAO,sQAAC,2MAAyB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,mBAAmB,EAC1B,GAAG,OACuD;IAC1D,qBACE,sQAAC,8MAA4B;QAAC,aAAU;QAAwB,GAAG,KAAK;;;;;;AAE5E;AAEA,SAAS,kBAAkB,EACzB,GAAG,OACsD;IACzD,qBACE,sQAAC,6MAA2B;QAAC,aAAU;QAAuB,GAAG,KAAK;;;;;;AAE1E;AAEA,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,sQAAC,8MAA4B;QAC3B,aAAU;QACV,WAAW,IAAA,0IAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,sQAAC;;0BACC,sQAAC;;;;;0BACD,sQAAC,8MAA4B;gBAC3B,aAAU;gBACV,WAAW,IAAA,0IAAE,EACX,+WACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIjB;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,0IAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,0IAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,sQAAC,4MAA0B;QACzB,aAAU;QACV,WAAW,IAAA,0IAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,sQAAC,kNAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,0IAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,sQAAC,6MAA2B;QAC1B,WAAW,IAAA,0IAAE,EAAC,IAAA,qKAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,sQAAC,6MAA2B;QAC1B,WAAW,IAAA,0IAAE,EAAC,IAAA,qKAAc,EAAC;YAAE,SAAS;QAAU,IAAI;QACrD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/lib/use-permissions.ts"],"sourcesContent":["import { useAuth } from './auth-context';\r\n\r\ntype ModuleType =\r\n    | 'dashboard'\r\n    | 'products'\r\n    | 'categories'\r\n    | 'sizes'\r\n    | 'colors'\r\n    | 'orders'\r\n    | 'carousel'\r\n    | 'settings'\r\n    | 'employees'\r\n    | 'groups'\r\n    | 'logs'\r\n    | 'account_settings';\r\n\r\ntype ActionType = 'view' | 'create' | 'edit' | 'delete' | 'export' | 'update_status';\r\n\r\n/**\r\n * Hook para verificar permiss√µes granulares de funcion√°rios\r\n * \r\n * @example\r\n * const { canCreate, canEdit, canDelete } = usePermissions('products');\r\n * \r\n * return (\r\n *   <>\r\n *     {canCreate && <button>Criar Produto</button>}\r\n *     {canEdit && <button>Editar</button>}\r\n *     {canDelete && <button>Deletar</button>}\r\n *   </>\r\n * );\r\n */\r\nexport function usePermissions(module: ModuleType) {\r\n    const { user, isAdmin } = useAuth();\r\n\r\n    // Propriet√°rio (admin sem employeeGroupId) tem todas as permiss√µes\r\n    if (isAdmin && !user?.employeeGroupId) {\r\n        return {\r\n            canView: true,\r\n            canCreate: true,\r\n            canEdit: true,\r\n            canDelete: true,\r\n            canExport: true,\r\n            canUpdateStatus: true,\r\n            hasPermission: (action: ActionType) => true,\r\n        };\r\n    }\r\n\r\n    // Funcion√°rio: verifica permiss√µes do grupo\r\n    const groupPermissions = user?.groupPermissions || [];\r\n    const modulePermission = groupPermissions.find(\r\n        (p: any) => p.module === module\r\n    );\r\n\r\n    if (!modulePermission) {\r\n        // Sem permiss√£o para este m√≥dulo\r\n        return {\r\n            canView: false,\r\n            canCreate: false,\r\n            canEdit: false,\r\n            canDelete: false,\r\n            canExport: false,\r\n            canUpdateStatus: false,\r\n            hasPermission: (action: ActionType) => false,\r\n        };\r\n    }\r\n\r\n    // Extrai a√ß√µes permitidas\r\n    const actions = modulePermission.actions || {};\r\n\r\n    // Helper para verificar a√ß√£o case-insensitive\r\n    const hasAction = (action: string) => {\r\n        if (!actions) return false;\r\n        // 1. Match exato\r\n        if (actions[action] === true) return true;\r\n        // 2. Match Capitalized (Create)\r\n        const capitalized = action.charAt(0).toUpperCase() + action.slice(1);\r\n        if (actions[capitalized] === true) return true;\r\n        // 3. Match UPPERCASE (CREATE)\r\n        if (actions[action.toUpperCase()] === true) return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    return {\r\n        canView: hasAction('view'),\r\n        canCreate: hasAction('create'),\r\n        canEdit: hasAction('edit'),\r\n        canDelete: hasAction('delete'),\r\n        canExport: hasAction('export'),\r\n        canUpdateStatus: hasAction('update_status') || hasAction('updateStatus'), // suporte a camelCase tamb√©m\r\n        hasPermission: (action: ActionType) => hasAction(action),\r\n    };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAgCO,SAAS,eAAe,MAAkB;IAC7C,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,0JAAO;IAEjC,mEAAmE;IACnE,IAAI,WAAW,CAAC,MAAM,iBAAiB;QACnC,OAAO;YACH,SAAS;YACT,WAAW;YACX,SAAS;YACT,WAAW;YACX,WAAW;YACX,iBAAiB;YACjB,eAAe,CAAC,SAAuB;QAC3C;IACJ;IAEA,4CAA4C;IAC5C,MAAM,mBAAmB,MAAM,oBAAoB,EAAE;IACrD,MAAM,mBAAmB,iBAAiB,IAAI,CAC1C,CAAC,IAAW,EAAE,MAAM,KAAK;IAG7B,IAAI,CAAC,kBAAkB;QACnB,iCAAiC;QACjC,OAAO;YACH,SAAS;YACT,WAAW;YACX,SAAS;YACT,WAAW;YACX,WAAW;YACX,iBAAiB;YACjB,eAAe,CAAC,SAAuB;QAC3C;IACJ;IAEA,0BAA0B;IAC1B,MAAM,UAAU,iBAAiB,OAAO,IAAI,CAAC;IAE7C,8CAA8C;IAC9C,MAAM,YAAY,CAAC;QACf;;QACA,iBAAiB;QACjB,IAAI,OAAO,CAAC,OAAO,KAAK,MAAM,OAAO;QACrC,gCAAgC;QAChC,MAAM,cAAc,OAAO,MAAM,CAAC,GAAG,WAAW,KAAK,OAAO,KAAK,CAAC;QAClE,IAAI,OAAO,CAAC,YAAY,KAAK,MAAM,OAAO;QAC1C,8BAA8B;QAC9B,IAAI,OAAO,CAAC,OAAO,WAAW,GAAG,KAAK,MAAM,OAAO;QAEnD,OAAO;IACX;IAEA,OAAO;QACH,SAAS,UAAU;QACnB,WAAW,UAAU;QACrB,SAAS,UAAU;QACnB,WAAW,UAAU;QACrB,WAAW,UAAU;QACrB,iBAAiB,UAAU,oBAAoB,UAAU;QACzD,eAAe,CAAC,SAAuB,UAAU;IACrD;AACJ"}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/app/admin/categorias/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport {\n  Plus,\n  Edit2,\n  Trash2,\n  X,\n  FolderTree,\n  Search,\n  LayoutGrid,\n  List,\n  Info,\n  XCircle,\n  AlertTriangle,\n} from \"lucide-react\"\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\"\nimport { toast } from \"sonner\"\nimport { useAuth } from \"@/lib/auth-context\"\nimport { usePermissions } from \"@/lib/use-permissions\"\n\nconst API_BASE_URL =\n  process.env.NEXT_PUBLIC_API_BASE_URL ?? \"https://localhost:7105\"\n\ntype ViewMode = \"list\" | \"grid\"\nconst VIEW_MODE_KEY = \"adminCategoriasViewMode\"\n\n// ===== Tipos da API (CategoryResponseDto) =====\ninterface CategoryApi {\n  id: string\n  name: string\n  description: string | null\n  isActive: boolean\n  createdAt: string\n}\n\ninterface ProductApi {\n  id: string\n  categoryId: string\n}\n\n// Modelo usado na tela\ninterface Category {\n  id: string\n  nome: string\n  slug: string\n  descricao: string\n  ativo: boolean\n  produtosCount: number\n  createdAt: string\n}\n\n// Gera slug a partir do nome (apenas visual)\nconst generateSlug = (nome: string) => {\n  return nome\n    .toLowerCase()\n    .normalize(\"NFD\")\n    .replace(/[\\u0300-\\u036f]/g, \"\")\n    .replace(/[^a-z0-9]+/g, \"-\")\n    .replace(/(^-|-$)/g, \"\")\n}\n\nexport default function AdminCategorias() {\n  const { token, isLoading: authLoading } = useAuth()\n  const { canCreate, canEdit, canDelete } = usePermissions('categories')\n  const [categories, setCategories] = useState<Category[]>([])\n  const [showModal, setShowModal] = useState(false)\n  const [editingCategory, setEditingCategory] = useState<Category | null>(null)\n  const [formData, setFormData] = useState({\n    nome: \"\",\n    descricao: \"\",\n    ativo: true,\n  })\n\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [loading, setLoading] = useState(true)\n  const [saving, setSaving] = useState(false)\n\n  const [viewMode, setViewMode] = useState<ViewMode>(() => {\n    if (typeof window === \"undefined\") return \"list\"\n    const saved = window.localStorage.getItem(VIEW_MODE_KEY) as ViewMode | null\n    return saved === \"list\" || saved === \"grid\" ? saved : \"list\"\n  })\n\n  const changeViewMode = (mode: ViewMode) => {\n    setViewMode(mode)\n    if (typeof window !== \"undefined\") {\n      window.localStorage.setItem(VIEW_MODE_KEY, mode)\n    }\n  }\n\n  // Estado do AlertDialog de exclus√£o\n  const [deleteCategoryDialog, setDeleteCategoryDialog] = useState<{\n    open: boolean\n    categoryId: string | null\n    categoryName: string\n    isActive: boolean\n  }>({\n    open: false,\n    categoryId: null,\n    categoryName: \"\",\n    isActive: true,\n  })\n\n  // Estado do AlertDialog de conflito (categoria vinculada a produtos)\n  const [deleteConflictOpen, setDeleteConflictOpen] = useState(false)\n  const [deleteConflictCategory, setDeleteConflictCategory] =\n    useState<string | null>(null)\n\n  // Estados para sele√ß√£o m√∫ltipla\n  const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set())\n  const [bulkDeleteDialog, setBulkDeleteDialog] = useState({\n    open: false,\n    count: 0,\n  })\n\n  const buildAuthHeaders = (\n    extra?: Record<string, string>,\n  ): Record<string, string> => {\n    const headers: Record<string, string> = { ...(extra ?? {}) }\n\n    if (token) {\n      headers[\"Authorization\"] = `Bearer ${token}`\n    }\n\n    return headers\n  }\n\n  const mapApiToCategory = (c: CategoryApi): Category => ({\n    id: c.id,\n    nome: c.name,\n    slug: generateSlug(c.name),\n    descricao: c.description ?? \"\",\n    ativo: c.isActive,\n    produtosCount: 0,\n    createdAt: c.createdAt,\n  })\n\n  const fetchCategoriesList = async () => {\n    try {\n      setLoading(true)\n\n      // üëâ Agora usando controller unificado /api/categories\n      const catRes = await fetch(`${API_BASE_URL}/api/categories`, {\n        headers: buildAuthHeaders(),\n      })\n\n      if (!catRes.ok) {\n        const text = await catRes.text()\n        console.error(\"Erro ao buscar categorias:\", text)\n        toast.error(\"Erro ao carregar categorias.\")\n        return\n      }\n\n      const categoriesData: CategoryApi[] = await catRes.json()\n\n      // Carrega lista inicial (sem contagem de produtos por enquanto)\n      setCategories(categoriesData.map((c) => mapApiToCategory(c)))\n\n      // Dispara busca de contagem em background\n      void fetchProductCounts(categoriesData)\n    } catch (err) {\n      console.error(\"Erro ao buscar dados:\", err)\n      toast.error(\"Erro ao conectar ao servidor.\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const fetchProductCounts = async (currentCategories: CategoryApi[]) => {\n    try {\n      const prodRes = await fetch(`${API_BASE_URL}/api/admin/products`, {\n        headers: buildAuthHeaders(),\n        cache: \"no-store\",\n      })\n\n      if (prodRes.ok) {\n        const productsData: ProductApi[] = await prodRes.json()\n        const productCounts: Record<string, number> = {}\n\n        productsData.forEach((p) => {\n          productCounts[p.categoryId] = (productCounts[p.categoryId] || 0) + 1\n        })\n\n        setCategories((prev) =>\n          prev.map((c) => ({\n            ...c,\n            produtosCount: productCounts[c.id] || 0,\n          })),\n        )\n      }\n    } catch (err) {\n      console.error(\"Erro ao buscar contagem de produtos:\", err)\n    }\n  }\n\n  useEffect(() => {\n    if (authLoading) return\n    void fetchCategoriesList()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [authLoading])\n\n  // ===== Filtro =====\n  const filteredCategories = categories.filter((c) =>\n    c.nome.toLowerCase().includes(searchTerm.toLowerCase()),\n  )\n\n  // ===== Ordena√ß√£o: ativos primeiro, inativos no final =====\n  const sortedCategories = [...filteredCategories].sort((a, b) => {\n    if (a.ativo !== b.ativo) {\n      return a.ativo ? -1 : 1\n    }\n\n    const dateA = new Date(a.createdAt).getTime()\n    const dateB = new Date(b.createdAt).getTime()\n    return dateB - dateA\n  })\n\n  const openCreateModal = () => {\n    setEditingCategory(null)\n    setFormData({ nome: \"\", descricao: \"\", ativo: true })\n    setShowModal(true)\n  }\n\n  const openEditModal = (category: Category) => {\n    if (!canEdit) {\n      toast.error(\"Voc√™ n√£o tem permiss√£o para editar categorias\")\n      return\n    }\n    setEditingCategory(category)\n    setFormData({\n      nome: category.nome,\n      descricao: category.descricao,\n      ativo: category.ativo,\n    })\n    setShowModal(true)\n  }\n\n  const handleSave = async () => {\n    // Verifica permiss√µes\n    if (editingCategory && !canEdit) {\n      toast.error(\"Voc√™ n√£o tem permiss√£o para editar categorias\")\n      return\n    }\n    if (!editingCategory && !canCreate) {\n      toast.error(\"Voc√™ n√£o tem permiss√£o para criar categorias\")\n      return\n    }\n\n    if (!formData.nome.trim()) {\n      toast.error(\"Informe o nome da categoria.\")\n      return\n    }\n\n    setSaving(true)\n\n    const payloadCreate = {\n      name: formData.nome,\n      description: formData.descricao || null,\n    }\n\n    const payloadUpdate = {\n      name: formData.nome,\n      description: formData.descricao || null,\n      isActive: formData.ativo,\n    }\n\n    try {\n      if (editingCategory) {\n        // üëâ UPDATE usando /api/categories + Bearer\n        const res = await fetch(\n          `${API_BASE_URL}/api/categories/${editingCategory.id}`,\n          {\n            method: \"PUT\",\n            headers: buildAuthHeaders({\n              \"Content-Type\": \"application/json\",\n            }),\n            body: JSON.stringify(payloadUpdate),\n          },\n        )\n\n        if (!res.ok) {\n          console.error(\"Erro ao atualizar categoria:\", await res.text())\n          toast.error(\"N√£o foi poss√≠vel atualizar a categoria.\")\n          return\n        }\n\n        toast.success(\"Categoria atualizada com sucesso!\")\n      } else {\n        // üëâ CREATE usando /api/categories + Bearer\n        const res = await fetch(`${API_BASE_URL}/api/categories`, {\n          method: \"POST\",\n          headers: buildAuthHeaders({\n            \"Content-Type\": \"application/json\",\n          }),\n          body: JSON.stringify(payloadCreate),\n        })\n\n        if (!res.ok) {\n          console.error(\"Erro ao criar categoria:\", await res.text())\n          toast.error(\"N√£o foi poss√≠vel criar a categoria.\")\n          return\n        }\n\n        toast.success(\"Categoria criada com sucesso!\")\n      }\n\n      await fetchCategoriesList()\n      setShowModal(false)\n    } catch (err) {\n      console.error(\"Erro ao salvar categoria:\", err)\n      toast.error(\"Ocorreu um erro ao salvar a categoria.\")\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  // Abre di√°logo de exclus√£o (2 cliques: inativar ‚Üí excluir)\n  const handleDelete = (id: string) => {\n    if (!canDelete) {\n      toast.error(\"Voc√™ n√£o tem permiss√£o para excluir categorias\")\n      return\n    }\n    const category = categories.find((c) => c.id === id)\n    if (!category) return\n\n    setDeleteCategoryDialog({\n      open: true,\n      categoryId: id,\n      categoryName: category.nome,\n      isActive: category.ativo,\n    })\n  }\n\n  // Confirma exclus√£o/inativa√ß√£o\n  const confirmDeleteCategory = async () => {\n    const { categoryId, isActive } = deleteCategoryDialog\n    if (!categoryId) return\n\n    try {\n      // üëâ DELETE usando /api/categories + Bearer\n      const res = await fetch(\n        `${API_BASE_URL}/api/categories/${categoryId}`,\n        {\n          method: \"DELETE\",\n          headers: buildAuthHeaders(),\n        },\n      )\n\n      if (!res.ok && res.status !== 204) {\n        let errorMessage = \"\"\n\n        try {\n          const data = await res.json()\n          const rawMessage =\n            data?.message ?? data?.title ?? data?.detail ?? data?.error ?? \"\"\n          errorMessage = String(rawMessage ?? \"\")\n        } catch {\n          try {\n            const text = await res.text()\n            if (text) errorMessage = text\n          } catch {\n            // ignore\n          }\n        }\n\n        const normalizedMessage = errorMessage.toLowerCase()\n\n        const isLinkedToProduct =\n          res.status === 400 ||\n          res.status === 409 ||\n          res.status === 500 ||\n          normalizedMessage.includes(\"vinculad\") ||\n          normalizedMessage.includes(\"produto\")\n\n        if (isLinkedToProduct) {\n          setDeleteConflictCategory(deleteCategoryDialog.categoryName)\n          setDeleteConflictOpen(true)\n        } else {\n          console.error(\"Erro ao excluir categoria:\", errorMessage)\n          toast.error(errorMessage || \"Erro ao excluir categoria\")\n        }\n\n        setDeleteCategoryDialog({\n          open: false,\n          categoryId: null,\n          categoryName: \"\",\n          isActive: true,\n        })\n        return\n      }\n\n      if (isActive) {\n        setCategories((prev) =>\n          prev.map((c) =>\n            c.id === categoryId\n              ? {\n                  ...c,\n                  ativo: false,\n                }\n              : c,\n          ),\n        )\n        toast.success(\"Categoria marcada como inativa!\")\n      } else {\n        setCategories((prev) => prev.filter((c) => c.id !== categoryId))\n        toast.success(\n          \"Categoria exclu√≠da permanentemente (se n√£o tinha v√≠nculos).\",\n        )\n      }\n    } catch (err) {\n      console.error(\"Erro ao excluir categoria:\", err)\n      toast.error(\"Ocorreu um erro ao excluir a categoria.\")\n    }\n\n    setDeleteCategoryDialog({\n      open: false,\n      categoryId: null,\n      categoryName: \"\",\n      isActive: true,\n    })\n  }\n\n  // ======= L√≥gica de Sele√ß√£o M√∫ltipla =======\n\n  const toggleSelect = (id: string) => {\n    const newSelected = new Set(selectedIds)\n    if (newSelected.has(id)) {\n      newSelected.delete(id)\n    } else {\n      newSelected.add(id)\n    }\n    setSelectedIds(newSelected)\n  }\n\n  const toggleSelectAll = () => {\n    if (selectedIds.size === sortedCategories.length) {\n      setSelectedIds(new Set())\n    } else {\n      setSelectedIds(new Set(sortedCategories.map((c) => c.id)))\n    }\n  }\n\n  const confirmBulkDelete = async () => {\n    if (!canDelete) {\n      toast.error(\"Voc√™ n√£o tem permiss√£o para excluir categorias\")\n      return\n    }\n    const idsToDelete = Array.from(selectedIds)\n    setBulkDeleteDialog({ open: false, count: 0 })\n\n    let successCount = 0\n    let failCount = 0\n\n    const results = await Promise.allSettled(\n      idsToDelete.map(async (id) => {\n        const category = categories.find((c) => c.id === id)\n        if (!category) return { success: false, id }\n\n        // üëâ DELETE em lote usando /api/categories + Bearer\n        const res = await fetch(`${API_BASE_URL}/api/categories/${id}`, {\n          method: \"DELETE\",\n          headers: buildAuthHeaders(),\n        })\n\n        if (!res.ok && res.status !== 204) {\n          return { success: false, id }\n        }\n\n        return { success: true, id, wasActive: category.ativo }\n      }),\n    )\n\n    const newCategories = [...categories]\n\n    results.forEach((result) => {\n      if (result.status === \"fulfilled\" && result.value.success) {\n        successCount++\n        const { id, wasActive } = result.value\n\n        const index = newCategories.findIndex((c) => c.id === id)\n        if (index !== -1) {\n          if (wasActive) {\n            newCategories[index] = { ...newCategories[index], ativo: false }\n          } else {\n            newCategories.splice(index, 1)\n          }\n        }\n      } else {\n        failCount++\n      }\n    })\n\n    setCategories(newCategories)\n    setSelectedIds(new Set())\n\n    if (successCount > 0) {\n      toast.success(`${successCount} categorias processadas com sucesso!`)\n    }\n    if (failCount > 0) {\n      toast.error(\n        `${failCount} categorias n√£o puderam ser exclu√≠das (poss√≠vel conflito).`,\n      )\n    }\n  }\n\n  const toggleStatus = async (id: string) => {\n    if (!canEdit) {\n      toast.error(\"Voc√™ n√£o tem permiss√£o para alterar status\")\n      return\n    }\n    const category = categories.find((c) => c.id === id)\n    if (!category) return\n\n    const payloadUpdate = {\n      name: category.nome,\n      description: category.descricao || null,\n      isActive: !category.ativo,\n    }\n\n    try {\n      // üëâ PUT de toggle status usando /api/categories + Bearer\n      const res = await fetch(`${API_BASE_URL}/api/categories/${id}`, {\n        method: \"PUT\",\n        headers: buildAuthHeaders({\n          \"Content-Type\": \"application/json\",\n        }),\n        body: JSON.stringify(payloadUpdate),\n      })\n\n      if (!res.ok) {\n        console.error(\"Erro ao alterar status:\", await res.text())\n        toast.error(\"N√£o foi poss√≠vel alterar o status da categoria.\")\n        return\n      }\n\n      setCategories((prev) =>\n        prev.map((c) => (c.id === id ? { ...c, ativo: !c.ativo } : c)),\n      )\n      toast.success(\"Status da categoria atualizado!\")\n    } catch (err) {\n      console.error(\"Erro ao alterar status:\", err)\n      toast.error(\"Ocorreu um erro ao alterar o status da categoria.\")\n    }\n  }\n\n  const slugPreview = generateSlug(formData.nome || \"categoria\")\n\n  return (\n    <div className=\"p-8\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-8\">\n        <div>\n          <h1 className=\"text-3xl font-light text-foreground\">Categorias</h1>\n          <p className=\"text-foreground/60\">\n            Organize seus produtos em categorias\n          </p>\n        </div>\n        {canCreate && (\n          <button\n            onClick={openCreateModal}\n            className=\"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg font-medium hover:bg-primary/90 transition-colors\"\n          >\n            <Plus size={18} />\n            Nova Categoria\n          </button>\n        )}\n      </div>\n\n      {/* Alerta de Instru√ß√µes de Exclus√£o */}\n      <div className=\"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4 flex gap-3\">\n        <Info className=\"text-blue-600 flex-shrink-0 mt-0.5\" size={20} />\n        <div className=\"text-sm text-blue-900\">\n          <p className=\"font-medium mb-1\">Como funciona a exclus√£o:</p>\n          <ul className=\"list-disc list-inside space-y-1 text-blue-800\">\n            <li>\n              <strong>1¬∫ clique na lixeira:</strong> A categoria fica inativa.\n            </li>\n            <li>\n              <strong>2¬∫ clique na lixeira:</strong> Se n√£o houver v√≠nculos com\n              produtos, a categoria √© removida permanentemente. Se houver\n              v√≠nculos, permanece inativa.\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      {/* Filtros & Toggle de visualiza√ß√£o */}\n      <div className=\"flex flex-col sm:flex-row gap-4 mb-6 justify-between\">\n        <div className=\"relative flex-1 max-w-md\">\n          <Search\n            size={18}\n            className=\"absolute left-3 top-1/2 -translate-y-1/2 text-foreground/50\"\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Buscar por nome...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent\"\n          />\n        </div>\n        <div className=\"flex items-center bg-muted rounded-lg p-1 border border-border\">\n          <button\n            onClick={() => changeViewMode(\"list\")}\n            className={`p-2 rounded-md transition-all ${\n              viewMode === \"list\"\n                ? \"bg-background shadow-sm text-foreground\"\n                : \"text-foreground/60 hover:text-foreground\"\n            }`}\n          >\n            <List size={18} />\n          </button>\n          <button\n            onClick={() => changeViewMode(\"grid\")}\n            className={`p-2 rounded-md transition-all ${\n              viewMode === \"grid\"\n                ? \"bg-background shadow-sm text-foreground\"\n                : \"text-foreground/60 hover:text-foreground\"\n            }`}\n          >\n            <LayoutGrid size={18} />\n          </button>\n        </div>\n      </div>\n\n      {/* Bulk Actions Bar */}\n      {selectedIds.size > 0 && viewMode === \"list\" && (\n        <div className=\"mb-4 p-4 bg-primary/5 border border-primary/20 rounded-xl flex items-center justify-between animate-in fade-in slide-in-from-top-2\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-medium text-sm\">\n              {selectedIds.size}\n            </div>\n            <span className=\"text-sm font-medium text-foreground\">\n              categorias selecionadas\n            </span>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <button\n              onClick={() => setSelectedIds(new Set())}\n              className=\"text-sm text-foreground/60 hover:text-foreground transition-colors\"\n            >\n              Cancelar\n            </button>\n            <button\n              onClick={() =>\n                setBulkDeleteDialog({ open: true, count: selectedIds.size })\n              }\n              className=\"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-sm\"\n            >\n              <Trash2 size={16} />\n              <span className=\"font-medium\">Excluir selecionadas</span>\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Conte√∫do */}\n      {loading ? (\n        <div className=\"py-12 text-center text-foreground/60\">\n          Carregando categorias...\n        </div>\n      ) : viewMode === \"grid\" ? (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {sortedCategories.map((category) => {\n            const isInactive = !category.ativo\n\n            return (\n              <div\n                key={category.id}\n                className={`bg-card border rounded-xl p-6 transition-all ${\n                  isInactive ? \"border-border/50 opacity-70\" : \"border-border\"\n                }`}\n              >\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div\n                    className={`p-3 rounded-lg bg-muted ${\n                      isInactive ? \"opacity-70\" : \"\"\n                    }`}\n                  >\n                    <FolderTree\n                      size={24}\n                      className={\n                        isInactive ? \"text-foreground/40\" : \"text-accent\"\n                      }\n                    />\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    {canEdit && (\n                      <button\n                        onClick={() => openEditModal(category)}\n                        className={`p-2 text-foreground/60 hover:text-primary hover:bg-muted rounded-lg transition-colors ${\n                          isInactive ? \"opacity-60\" : \"\"\n                        }`}\n                      >\n                        <Edit2 size={16} />\n                      </button>\n                    )}\n                    {canDelete && (\n                      <button\n                        onClick={() => handleDelete(category.id)}\n                        className={`p-2 text-foreground/60 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors ${\n                          isInactive ? \"opacity-60\" : \"\"\n                        }`}\n                      >\n                        <Trash2 size={16} />\n                      </button>\n                    )}\n                  </div>\n                </div>\n\n                <h3\n                  className={`font-medium mb-1 ${\n                    isInactive ? \"text-foreground/70\" : \"text-foreground\"\n                  }`}\n                >\n                  {category.nome}\n                </h3>\n                <p\n                  className={`text-sm mb-2 ${\n                    isInactive ? \"text-foreground/50\" : \"text-foreground/60\"\n                  }`}\n                >\n                  /{category.slug}\n                </p>\n                {category.descricao && (\n                  <p\n                    className={`text-sm mb-4 line-clamp-2 ${\n                      isInactive ? \"text-foreground/60\" : \"text-foreground/70\"\n                    }`}\n                  >\n                    {category.descricao}\n                  </p>\n                )}\n\n                <div className=\"flex items-center justify-between\">\n                  <span\n                    className={`text-sm ${\n                      isInactive ? \"text-foreground/60\" : \"text-foreground/60\"\n                    }`}\n                  >\n                    {category.produtosCount} produtos\n                  </span>\n                  <button\n                    onClick={() => toggleStatus(category.id)}\n                    className={`px-3 py-1 rounded-full text-xs font-medium transition-colors ${\n                      category.ativo\n                        ? \"bg-green-100 text-green-700 hover:bg-green-200\"\n                        : \"bg-red-100 text-red-700 hover:bg-red-200\"\n                    }`}\n                  >\n                    {category.ativo ? \"Ativo\" : \"Inativo\"}\n                  </button>\n                </div>\n                <div className=\"mt-4 pt-4 border-t border-border flex justify-end\">\n                  <span className=\"text-xs text-foreground/40\">\n                    Criado em{\" \"}\n                    {new Date(category.createdAt).toLocaleDateString(\"pt-BR\")}\n                  </span>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      ) : (\n        <div className=\"bg-card border border-border rounded-xl overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-muted border-b border-border\">\n                <tr>\n                  <th className=\"w-[50px] px-6 py-4\">\n                    {canDelete && (\n                      <input\n                        type=\"checkbox\"\n                        checked={\n                          sortedCategories.length > 0 &&\n                          selectedIds.size === sortedCategories.length\n                        }\n                        onChange={toggleSelectAll}\n                        className=\"w-4 h-4 rounded border-border text-primary focus:ring-primary accent-primary\"\n                      />\n                    )}\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-foreground\">\n                    Categoria\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-foreground\">\n                    Slug\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-foreground\">\n                    Produtos\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-foreground\">\n                    Status\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-foreground\">\n                    Criado em\n                  </th>\n                  <th className=\"px-6 py-4 text-center text-sm font-medium text-foreground\">\n                    A√ß√µes\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-border\">\n                {sortedCategories.map((category) => {\n                  const isInactive = !category.ativo\n\n                  return (\n                    <tr\n                      key={category.id}\n                      className={`transition-colors ${\n                        isInactive\n                          ? \"bg-muted/50 opacity-70\"\n                          : \"hover:bg-muted/50\"\n                      }`}\n                    >\n                      <td className=\"px-6 py-4\">\n                        {canDelete && (\n                          <input\n                            type=\"checkbox\"\n                            checked={selectedIds.has(category.id)}\n                            onChange={() => toggleSelect(category.id)}\n                            className=\"w-4 h-4 rounded border-border text-primary focus:ring-primary accent-primary\"\n                          />\n                        )}\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className=\"flex items-center gap-3\">\n                          <div\n                            className={`p-2 rounded-lg bg-muted ${\n                              isInactive ? \"opacity-70\" : \"\"\n                            }`}\n                          >\n                            <FolderTree\n                              size={16}\n                              className={\n                                isInactive\n                                  ? \"text-foreground/40\"\n                                  : \"text-accent\"\n                              }\n                            />\n                          </div>\n                          <span\n                            className={`font-medium ${\n                              isInactive\n                                ? \"text-foreground/70\"\n                                : \"text-foreground\"\n                            }`}\n                          >\n                            {category.nome}\n                          </span>\n                        </div>\n                      </td>\n                      <td\n                        className={`px-6 py-4 text-sm ${\n                          isInactive\n                            ? \"text-foreground/60\"\n                            : \"text-foreground/70\"\n                        }`}\n                      >\n                        /{category.slug}\n                      </td>\n                      <td\n                        className={`px-6 py-4 text-sm ${\n                          isInactive\n                            ? \"text-foreground/60\"\n                            : \"text-foreground/70\"\n                        }`}\n                      >\n                        {category.produtosCount}\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <button\n                          onClick={() => toggleStatus(category.id)}\n                          className={`px-2 py-1 rounded-full text-xs font-medium transition-colors ${\n                            category.ativo\n                              ? \"bg-green-100 text-green-700 hover:bg-green-200\"\n                              : \"bg-red-100 text-red-700 hover:bg-red-200\"\n                          }`}\n                        >\n                          {category.ativo ? \"Ativo\" : \"Inativo\"}\n                        </button>\n                      </td>\n                      <td className=\"px-6 py-4 text-sm text-foreground/70\">\n                        {new Date(category.createdAt).toLocaleDateString(\n                          \"pt-BR\",\n                        )}\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className=\"flex items-center justify-center gap-2\">\n                          {canEdit && (\n                            <button\n                              onClick={() => openEditModal(category)}\n                              className=\"p-2 text-foreground/60 hover:text-primary hover:bg-muted rounded-lg transition-colors\"\n                            >\n                              <Edit2 size={16} />\n                            </button>\n                          )}\n                          {canDelete && (\n                            <button\n                              onClick={() => handleDelete(category.id)}\n                              className=\"p-2 text-foreground/60 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\n                            >\n                              <Trash2 size={16} />\n                            </button>\n                          )}\n                        </div>\n                      </td>\n                    </tr>\n                  )\n                })}\n\n                {sortedCategories.length === 0 && !loading && (\n                  <tr>\n                    <td\n                      colSpan={5}\n                      className=\"px-6 py-8 text-center text-foreground/60\"\n                    >\n                      Nenhuma categoria encontrada.\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-card border border-border rounded-xl w-full max-w-md\">\n            <div className=\"flex items-center justify-between p-6 border-b border-border\">\n              <h2 className=\"text-xl font-medium text-foreground\">\n                {editingCategory ? \"Editar Categoria\" : \"Nova Categoria\"}\n              </h2>\n              <button\n                onClick={() => setShowModal(false)}\n                className=\"text-foreground/60 hover:text-foreground\"\n              >\n                <X size={20} />\n              </button>\n            </div>\n\n            <div className=\"p-6 space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\n                  Nome da Categoria\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.nome}\n                  onChange={(e) =>\n                    setFormData({ ...formData, nome: e.target.value })\n                  }\n                  className=\"w-full px-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent\"\n                  placeholder=\"Ex: Papelaria Personalizada\"\n                />\n                <p className=\"text-xs text-foreground/60 mt-1\">\n                  Slug gerado:{\" \"}\n                  <span className=\"font-mono\">/{slugPreview}</span>\n                </p>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\n                  Descri√ß√£o (opcional)\n                </label>\n                <textarea\n                  value={formData.descricao}\n                  onChange={(e) =>\n                    setFormData({ ...formData, descricao: e.target.value })\n                  }\n                  className=\"w-full px-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent min-h-[80px]\"\n                  placeholder=\"Descri√ß√£o breve da categoria...\"\n                />\n              </div>\n\n              <div className=\"flex items-center gap-3\">\n                <input\n                  type=\"checkbox\"\n                  id=\"ativo\"\n                  checked={formData.ativo}\n                  onChange={(e) =>\n                    setFormData({ ...formData, ativo: e.target.checked })\n                  }\n                  className=\"accent-accent\"\n                />\n                <label htmlFor=\"ativo\" className=\"text-sm text-foreground\">\n                  Categoria ativa\n                </label>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-end gap-3 p-6 border-t border-border\">\n              <button\n                onClick={() => setShowModal(false)}\n                className=\"px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors\"\n              >\n                Cancelar\n              </button>\n              <button\n                onClick={handleSave}\n                disabled={saving}\n                className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-70 disabled:cursor-not-allowed\"\n              >\n                {saving\n                  ? \"Salvando...\"\n                  : editingCategory\n                  ? \"Salvar\"\n                  : \"Criar\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* AlertDialog de exclus√£o */}\n      <AlertDialog\n        open={deleteCategoryDialog.open}\n        onOpenChange={(open) =>\n          setDeleteCategoryDialog((prev) => ({ ...prev, open }))\n        }\n      >\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>\n              {deleteCategoryDialog.isActive\n                ? \"Marcar categoria como inativa?\"\n                : \"Excluir categoria definitivamente?\"}\n            </AlertDialogTitle>\n            <AlertDialogDescription>\n              {deleteCategoryDialog.isActive\n                ? \"Ao confirmar, a categoria ser√° marcada como inativa. Ela n√£o poder√° mais ser usada em novos produtos, mas continuar√° vinculada aos registros existentes.\"\n                : \"Ao confirmar, tentaremos excluir a categoria. Se houver v√≠nculos com produtos, ela permanecer√° apenas como inativa.\"}\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n\n          <div className=\"mt-4 text-sm text-muted-foreground\">\n            <span className=\"font-semibold\">Categoria: </span>\n            <span>{deleteCategoryDialog.categoryName}</span>\n          </div>\n\n          <AlertDialogFooter className=\"mt-4\">\n            <AlertDialogCancel>Cancelar</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={(e) => {\n                e.preventDefault()\n                void confirmDeleteCategory()\n              }}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              Confirmar\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {/* Alert ‚Äì Categoria Vinculada a Produtos */}\n      <AlertDialog\n        open={deleteConflictOpen}\n        onOpenChange={setDeleteConflictOpen}\n      >\n        <AlertDialogContent className=\"overflow-hidden border-0 max-w-md\">\n          <div className=\"bg-white rounded-2xl p-6\">\n            <AlertDialogHeader>\n              <AlertDialogTitle className=\"flex items-center gap-2 text-red-900\">\n                <XCircle className=\"w-5 h-5 text-red-500\" />\n                Categoria n√£o pode ser exclu√≠da\n              </AlertDialogTitle>\n\n              <AlertDialogDescription className=\"space-y-3 text-gray-600\">\n                <span className=\"block\">\n                  Esta categoria n√£o pode ser exclu√≠da pois j√° est√° vinculada a{\" \"}\n                  <strong>um ou mais produtos</strong>.\n                </span>\n\n                {deleteConflictCategory && (\n                  <span className=\"block rounded-xl bg-gray-100 px-4 py-3 text-sm\">\n                    <span className=\"font-medium text-gray-900\">\n                      Categoria:\n                    </span>{\" \"}\n                    {deleteConflictCategory}\n                  </span>\n                )}\n\n                <span className=\"mt-1 flex items-start gap-2 text-xs bg-amber-50 border border-amber-200 rounded-lg p-3\">\n                  <AlertTriangle className=\"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0\" />\n                  <span>\n                    Para manter a integridade dos produtos, categorias\n                    associadas n√£o podem ser removidas. Elas permanecem como{\" \"}\n                    <strong>inativas</strong>.\n                  </span>\n                </span>\n              </AlertDialogDescription>\n            </AlertDialogHeader>\n\n            <AlertDialogFooter className=\"mt-6 gap-3\">\n              <AlertDialogAction\n                onClick={() => setDeleteConflictOpen(false)}\n                className=\"bg-blue-600 hover:bg-blue-700 text-white rounded-xl\"\n              >\n                Fechar\n              </AlertDialogAction>\n            </AlertDialogFooter>\n          </div>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {/* Alert ‚Äì Bulk Delete */}\n      <AlertDialog\n        open={bulkDeleteDialog.open}\n        onOpenChange={(open) =>\n          setBulkDeleteDialog((prev) => ({ ...prev, open }))\n        }\n      >\n        <AlertDialogContent className=\"max-w-md\">\n          <AlertDialogHeader>\n            <AlertDialogTitle>\n              Excluir {bulkDeleteDialog.count} categorias?\n            </AlertDialogTitle>\n            <AlertDialogDescription>\n              Voc√™ selecionou <strong>{bulkDeleteDialog.count} categorias</strong>{\" \"}\n              para exclus√£o. Confira as regras abaixo:\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n\n          {/* A LISTA FICA FORA DO AlertDialogDescription PARA EVITAR <p> DENTRO DE <ul> */}\n          <div className=\"mt-3\">\n            <ul className=\"list-disc list-inside space-y-1 text-sm text-muted-foreground\">\n              <li>\n                Categorias ativas ser√£o marcadas como{\" \"}\n                <strong>inativas</strong>.\n              </li>\n              <li>\n                Categorias inativas ser√£o{\" \"}\n                <strong>exclu√≠das permanentemente</strong>.\n              </li>\n              <li>\n                Categorias com v√≠nculos ser√£o mantidas (apenas inativadas).\n              </li>\n            </ul>\n          </div>\n\n          <AlertDialogFooter className=\"mt-4\">\n            <AlertDialogCancel>Cancelar</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={confirmBulkDelete}\n              className=\"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500\"\n            >\n              Confirmar exclus√£o em lote\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}}]
}