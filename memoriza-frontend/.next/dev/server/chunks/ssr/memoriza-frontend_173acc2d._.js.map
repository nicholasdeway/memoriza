{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/hooks/use-permissions.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { useAuth } from \"@/lib/auth-context\"\r\nimport { useState, useEffect } from \"react\"\r\nimport type { UserGroup, ModuleType } from \"@/lib/employee-types\"\r\n\r\nconst API_BASE_URL =\r\n    process.env.NEXT_PUBLIC_API_BASE_URL ?? \"https://localhost:7105\"\r\n\r\ntype ApiGroup = {\r\n    id: string\r\n    name: string\r\n    description: string | null\r\n    isActive: boolean\r\n    employeeCount: number\r\n    createdAt: string\r\n    permissions: UserGroup[\"permissions\"]\r\n}\r\n\r\nexport function usePermissions() {\r\n    const { user, token, isAdmin: isSuperAdmin } = useAuth()\r\n    const [permissions, setPermissions] = useState<UserGroup[\"permissions\"]>([])\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        const fetchPermissions = async () => {\r\n            // Se for Super Admin (ID 2), não precisa buscar permissões (tem acesso total)\r\n            if (isSuperAdmin) {\r\n                setLoading(false)\r\n                return\r\n            }\r\n\r\n            if (!token || !user?.userGroupId) {\r\n                setLoading(false)\r\n                return\r\n            }\r\n\r\n            try {\r\n                // Busca os detalhes do grupo do usuário para obter as permissões\r\n                const res = await fetch(`${API_BASE_URL}/api/admin/groups/${user.userGroupId}`, {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        Authorization: `Bearer ${token}`,\r\n                    },\r\n                })\r\n\r\n                if (res.ok) {\r\n                    const group = (await res.json()) as ApiGroup\r\n                    setPermissions(group.permissions || [])\r\n                } else {\r\n                    console.error(\"Erro ao buscar permissões do grupo\")\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Erro ao carregar permissões:\", error)\r\n            } finally {\r\n                setLoading(false)\r\n            }\r\n        }\r\n\r\n        fetchPermissions()\r\n    }, [user, token, isSuperAdmin])\r\n\r\n    const canView = (module: ModuleType): boolean => {\r\n        if (isSuperAdmin) return true\r\n        const permission = permissions.find(p => p.module === module)\r\n        return permission?.actions.view === true\r\n    }\r\n\r\n    const canEdit = (module: ModuleType): boolean => {\r\n        if (isSuperAdmin) return true\r\n        const permission = permissions.find(p => p.module === module)\r\n        return permission?.actions.edit === true\r\n    }\r\n\r\n    const canCreate = (module: ModuleType): boolean => {\r\n        if (isSuperAdmin) return true\r\n        const permission = permissions.find(p => p.module === module)\r\n        return permission?.actions.create === true\r\n    }\r\n\r\n    const canDelete = (module: ModuleType): boolean => {\r\n        if (isSuperAdmin) return true\r\n        const permission = permissions.find(p => p.module === module)\r\n        return permission?.actions.delete === true\r\n    }\r\n\r\n    return {\r\n        loading,\r\n        canView,\r\n        canEdit,\r\n        canCreate,\r\n        canDelete,\r\n        isSuperAdmin\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAMA,MAAM,eACF,8DAAwC;AAYrC,SAAS;IACZ,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,YAAY,EAAE,GAAG,IAAA,0JAAO;IACtD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yOAAQ,EAA2B,EAAE;IAC3E,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yOAAQ,EAAC;IAEvC,IAAA,0OAAS,EAAC;QACN,MAAM,mBAAmB;YACrB,8EAA8E;YAC9E,IAAI,cAAc;gBACd,WAAW;gBACX;YACJ;YAEA,IAAI,CAAC,SAAS,CAAC,MAAM,aAAa;gBAC9B,WAAW;gBACX;YACJ;YAEA,IAAI;gBACA,iEAAiE;gBACjE,MAAM,MAAM,MAAM,MAAM,GAAG,aAAa,kBAAkB,EAAE,KAAK,WAAW,EAAE,EAAE;oBAC5E,SAAS;wBACL,gBAAgB;wBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;oBACpC;gBACJ;gBAEA,IAAI,IAAI,EAAE,EAAE;oBACR,MAAM,QAAS,MAAM,IAAI,IAAI;oBAC7B,eAAe,MAAM,WAAW,IAAI,EAAE;gBAC1C,OAAO;oBACH,QAAQ,KAAK,CAAC;gBAClB;YACJ,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,gCAAgC;YAClD,SAAU;gBACN,WAAW;YACf;QACJ;QAEA;IACJ,GAAG;QAAC;QAAM;QAAO;KAAa;IAE9B,MAAM,UAAU,CAAC;QACb,IAAI,cAAc,OAAO;QACzB,MAAM,aAAa,YAAY,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;QACtD,OAAO,YAAY,QAAQ,SAAS;IACxC;IAEA,MAAM,UAAU,CAAC;QACb,IAAI,cAAc,OAAO;QACzB,MAAM,aAAa,YAAY,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;QACtD,OAAO,YAAY,QAAQ,SAAS;IACxC;IAEA,MAAM,YAAY,CAAC;QACf,IAAI,cAAc,OAAO;QACzB,MAAM,aAAa,YAAY,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;QACtD,OAAO,YAAY,QAAQ,WAAW;IAC1C;IAEA,MAAM,YAAY,CAAC;QACf,IAAI,cAAc,OAAO;QACzB,MAAM,aAAa,YAAY,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;QACtD,OAAO,YAAY,QAAQ,WAAW;IAC1C;IAEA,OAAO;QACH;QACA;QACA;QACA;QACA;QACA;IACJ;AACJ"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/components/admin-sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport {\n  LayoutDashboard,\n  Package,\n  FolderTree,\n  ShoppingCart,\n  Settings,\n  LogOut,\n  ChevronLeft,\n  ChevronRight,\n  Ruler,\n  Palette,\n  Store,\n  ArrowLeft,\n  Users,\n  Shield,\n  FileText,\n  Image,\n} from \"lucide-react\";\nimport { useAuth } from \"@/lib/auth-context\";\nimport { usePermissions } from \"@/hooks/use-permissions\";\nimport { useState } from \"react\";\nimport type { ModuleType } from \"@/lib/employee-types\";\n\ntype MenuItem = {\n  href: string;\n  label: string;\n  icon: React.ElementType;\n  module: ModuleType;\n};\n\ntype MenuSection = {\n  title: string;\n  items: MenuItem[];\n};\n\nconst menuSections: MenuSection[] = [\n  {\n    title: \"Principal\",\n    items: [\n      { href: \"/admin\", label: \"Dashboard\", icon: LayoutDashboard, module: \"dashboard\" },\n      { href: \"/admin/produtos\", label: \"Produtos\", icon: Package, module: \"products\" },\n      { href: \"/admin/categorias\", label: \"Categorias\", icon: FolderTree, module: \"categories\" },\n      { href: \"/admin/tamanhos\", label: \"Tamanhos\", icon: Ruler, module: \"sizes\" },\n      { href: \"/admin/cores\", label: \"Cores\", icon: Palette, module: \"colors\" },\n      { href: \"/admin/pedidos\", label: \"Pedidos\", icon: ShoppingCart, module: \"orders\" },\n      { href: \"/admin/carrossel\", label: \"Carrossel\", icon: Image, module: \"dashboard\" }, // Assumindo dashboard por enquanto\n      { href: \"/admin/configuracoes\", label: \"Configurações\", icon: Settings, module: \"account_settings\" },\n    ],\n  },\n  {\n    title: \"Gestão da Empresa\",\n    items: [\n      { href: \"/admin/gestao-empresa/funcionarios\", label: \"Funcionários\", icon: Users, module: \"account_settings\" },\n      { href: \"/admin/gestao-empresa/grupos\", label: \"Grupos & Permissões\", icon: Shield, module: \"account_settings\" },\n      { href: \"/admin/gestao-empresa/logs\", label: \"Acessos & Logs\", icon: FileText, module: \"account_settings\" },\n    ],\n  },\n];\n\nconst ANIMATION_DURATION = 300; // ms (mesmo da duration-300)\nconst SIDEBAR_EXPANDED_KEY = \"adminSidebarExpanded\";\n\nexport function AdminSidebar() {\n  const pathname = usePathname();\n  const { user, logout } = useAuth();\n  const { canView, loading } = usePermissions();\n\n  // Lê o estado salvo do localStorage (se existir)\n  const [expanded, setExpanded] = useState<boolean>(() => {\n    if (typeof window === \"undefined\") return false;\n    const saved = window.localStorage.getItem(SIDEBAR_EXPANDED_KEY);\n    return saved === \"true\"; // \"true\" → expandido; qualquer outra coisa → recolhido\n  });\n\n  const [isAnimating, setIsAnimating] = useState(false);\n\n  const handleToggle = () => {\n    if (isAnimating) return;\n\n    setIsAnimating(true);\n\n    setExpanded((prev) => {\n      const next = !prev;\n\n      // Salva preferência no localStorage\n      if (typeof window !== \"undefined\") {\n        window.localStorage.setItem(SIDEBAR_EXPANDED_KEY, String(next));\n      }\n\n      return next;\n    });\n\n    // libera o botão depois que a animação termina\n    setTimeout(() => {\n      setIsAnimating(false);\n    }, ANIMATION_DURATION);\n  };\n\n  // Filtra as seções e itens baseados nas permissões\n  const filteredSections = menuSections.map(section => ({\n    ...section,\n    items: section.items.filter(item => canView(item.module))\n  })).filter(section => section.items.length > 0);\n\n  if (loading) {\n    return null; // Ou um esqueleto de loading\n  }\n\n  return (\n    <>\n      {/* Overlay para mobile */}\n      {expanded && (\n        <div\n          className=\"fixed inset-0 bg-black/20 z-40 lg:hidden\"\n          onClick={() => !isAnimating && setExpanded(false)}\n        />\n      )}\n\n      {/* Sidebar Principal */}\n      <div\n        className={`\n          fixed lg:relative z-50\n          bg-primary text-primary-foreground min-h-screen flex flex-col\n          transform-gpu transition-transform duration-300 ease-out\n          ${\n            expanded\n              ? \"translate-x-0 w-72\"\n              : \"-translate-x-full lg:translate-x-0 lg:w-20\"\n          }\n          will-change-transform\n        `}\n        style={{\n          backfaceVisibility: \"hidden\",\n          perspective: \"1000px\",\n        }}\n      >\n        {/* Header */}\n        <div className=\"relative p-6 border-b border-primary-foreground/10 min-h-[120px] flex flex-col justify-center\">\n          {/* Botão expandir/recolher */}\n          <button\n            onClick={handleToggle}\n            disabled={isAnimating}\n            className=\"absolute -right-3 top-1/2 -translate-y-1/2 bg-primary-foreground text-primary rounded-full p-1 shadow-lg hover:scale-110 active:scale-95 transition-transform duration-150 z-10 disabled:opacity-70 disabled:cursor-not-allowed\"\n            aria-label={expanded ? \"Recolher menu\" : \"Expandir menu\"}\n          >\n            {expanded ? <ChevronLeft size={18} /> : <ChevronRight size={18} />}\n          </button>\n\n          {/* Voltar à loja */}\n          <Link\n            href=\"/\"\n            title=\"Voltar à loja\"\n            aria-label=\"Voltar à loja\"\n            className={`\n              flex items-center text-sm text-primary-foreground/70 hover:text-primary-foreground transition-colors duration-200\n              ${expanded ? \"gap-2 justify-start\" : \"justify-center\"}\n            `}\n          >\n            {expanded ? (\n              <div className=\"flex items-center gap-2 animate-fade-in\">\n                <ArrowLeft size={16} />\n                <span className=\"whitespace-nowrap\">Voltar à loja</span>\n              </div>\n            ) : (\n              <div className=\"flex flex-col items-center gap-1 text-[10px] leading-none\">\n                <Store size={18} />\n                <span>Loja</span>\n              </div>\n            )}\n          </Link>\n\n          {/* Título */}\n          <div\n            className={`\n              transition-all duration-250 ease-out overflow-hidden\n              ${expanded ? \"max-h-20 opacity-100 mt-3\" : \"max-h-0 opacity-0 mt-0\"}\n            `}\n          >\n            <h1 className=\"text-xl font-semibold whitespace-nowrap animate-fade-in-up\">\n              Memoriza\n            </h1>\n            <p\n              className=\"text-sm text-primary-foreground/70 whitespace-nowrap animate-fade-in-up\"\n              style={{ animationDelay: \"50ms\" }}\n            >\n              Painel Administrativo\n            </p>\n            {user?.email && (\n              <p className=\"mt-1 text-xs text-primary-foreground/60 truncate\">\n                {user.email}\n              </p>\n            )}\n          </div>\n        </div>\n\n        {/* Navigation */}\n        <nav className=\"flex-1 p-4\">\n          {filteredSections.map((section, sectionIdx) => (\n            <div key={section.title} className={sectionIdx > 0 ? \"mt-6\" : \"\"}>\n              {/* Linha separadora quando está colapsado e não é a primeira seção */}\n              {sectionIdx > 0 && !expanded && (\n                <div className=\"mb-6 border-t border-primary-foreground/10\" />\n              )}\n\n              {/* Título da seção */}\n              <div\n                className={`\n                  px-4 mb-2 overflow-hidden transition-all duration-200\n                  ${expanded ? \"max-h-8 opacity-100\" : \"max-h-0 opacity-0\"}\n                `}\n              >\n                <p className=\"text-xs font-semibold text-primary-foreground/50 uppercase tracking-wider\">\n                  {section.title}\n                </p>\n              </div>\n\n              {/* Itens da seção */}\n              <ul className=\"space-y-1\">\n                {section.items.map((item, index) => {\n                  const Icon = item.icon;\n                  const isActive = pathname === item.href;\n\n                  return (\n                    <li key={item.href}>\n                      <Link\n                        href={item.href}\n                        className={`\n                          group flex items-center px-4 py-3 rounded-lg transition-all duration-200 ease-out\n                          transform-gpu hover:scale-[1.02] active:scale-[0.98]\n                          ${\n                            isActive\n                              ? \"bg-primary-foreground/20 text-primary-foreground shadow-sm\"\n                              : \"text-primary-foreground/70 hover:bg-primary-foreground/10 hover:text-primary-foreground\"\n                          }\n                          ${expanded ? \"gap-3 justify-start\" : \"justify-center\"}\n                          will-change-transform\n                        `}\n                      >\n                        <Icon\n                          size={20}\n                          className=\"flex-shrink-0 transition-transform duration-200 group-hover:scale-110\"\n                        />\n\n                        {/* Texto com animação */}\n                        <span\n                          className={`\n                            whitespace-nowrap overflow-hidden transition-all duration-200 ease-out\n                            ${\n                              expanded\n                                ? \"max-w-[180px] opacity-100 animate-fade-in-left\"\n                                : \"max-w-0 opacity-0\"\n                            }\n                          `}\n                          style={{\n                            animationDelay: expanded ? `${index * 15}ms` : \"0ms\",\n                          }}\n                        >\n                          {item.label}\n                        </span>\n\n                        {isActive && (\n                          <div className=\"ml-auto w-1 h-6 bg-primary-foreground/40 rounded-full animate-pulse-soft\" />\n                        )}\n                      </Link>\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n          ))}\n        </nav>\n\n        {/* Footer */}\n        <div className=\"p-4 border-t border-primary-foreground/10\">\n          <button\n            onClick={logout}\n            className={`\n              group flex items-center w-full px-4 py-2 text-primary-foreground/70 \n              hover:text-primary-foreground hover:bg-primary-foreground/10 rounded-lg \n              transition-all duration-200 ease-out transform-gpu hover:scale-[1.02]\n              ${expanded ? \"gap-3 justify-start\" : \"justify-center\"}\n            `}\n          >\n            <LogOut\n              size={18}\n              className=\"flex-shrink-0 transition-transform duration-200 group-hover:scale-110\"\n            />\n\n            <span\n              className={`\n                whitespace-nowrap overflow-hidden transition-all duration-200 ease-out\n                ${\n                  expanded\n                    ? \"max-w-[180px] opacity-100 animate-fade-in-left\"\n                    : \"max-w-0 opacity-0\"\n                }\n              `}\n            >\n              Sair\n            </span>\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 547, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/app/admin/layout.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { useAuth } from \"@/lib/auth-context\"\nimport { AdminSidebar } from \"@/components/admin-sidebar\"\nimport { Loader2 } from \"lucide-react\"\n\nexport default function AdminLayout({ children }: { children: React.ReactNode }) {\n  const { user, isLoading, isAdmin } = useAuth()\n  const router = useRouter()\n\n  useEffect(() => {\n    if (!isLoading && !user) {\n      router.push(\"/auth/login\")\n    } else if (!isLoading && user && !isAdmin) {\n      router.push(\"/\")\n    }\n  }, [user, isLoading, isAdmin, router])\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-background\">\n        <Loader2 size={32} className=\"animate-spin text-primary\" />\n      </div>\n    )\n  }\n\n  if (!user || !isAdmin) {\n    return null\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-muted/30\">\n      <AdminSidebar />\n      <main className=\"flex-1 overflow-auto\">{children}</main>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AACA;AACA;AARA;;;;;;;AAUe,SAAS,YAAY,EAAE,QAAQ,EAAiC;IAC7E,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,IAAA,0JAAO;IAC5C,MAAM,SAAS,IAAA,uKAAS;IAExB,IAAA,0OAAS,EAAC;QACR,IAAI,CAAC,aAAa,CAAC,MAAM;YACvB,OAAO,IAAI,CAAC;QACd,OAAO,IAAI,CAAC,aAAa,QAAQ,CAAC,SAAS;YACzC,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAM;QAAW;QAAS;KAAO;IAErC,IAAI,WAAW;QACb,qBACE,sQAAC;YAAI,WAAU;sBACb,cAAA,sQAAC,oPAAO;gBAAC,MAAM;gBAAI,WAAU;;;;;;;;;;;IAGnC;IAEA,IAAI,CAAC,QAAQ,CAAC,SAAS;QACrB,OAAO;IACT;IAEA,qBACE,sQAAC;QAAI,WAAU;;0BACb,sQAAC,uKAAY;;;;;0BACb,sQAAC;gBAAK,WAAU;0BAAwB;;;;;;;;;;;;AAG9C"}}]
}