{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,8LAAO,EAAC,IAAA,qKAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,+LAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,gMAAI,GAAG;IAE9B,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,0IAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/components/ui/alert-dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AlertDialogPrimitive from '@radix-ui/react-alert-dialog'\n\nimport { cn } from '@/lib/utils'\nimport { buttonVariants } from '@/components/ui/button'\n\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />\n}\n\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  )\n}\n\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  )\n}\n\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  )\n}\n\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn('text-lg font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: 'outline' }), className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AAEA;AACA;AANA;;;;;AAQA,SAAS,YAAY,EACnB,GAAG,OACoD;IACvD,qBAAO,sQAAC,2MAAyB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,mBAAmB,EAC1B,GAAG,OACuD;IAC1D,qBACE,sQAAC,8MAA4B;QAAC,aAAU;QAAwB,GAAG,KAAK;;;;;;AAE5E;AAEA,SAAS,kBAAkB,EACzB,GAAG,OACsD;IACzD,qBACE,sQAAC,6MAA2B;QAAC,aAAU;QAAuB,GAAG,KAAK;;;;;;AAE1E;AAEA,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,sQAAC,8MAA4B;QAC3B,aAAU;QACV,WAAW,IAAA,0IAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,sQAAC;;0BACC,sQAAC;;;;;0BACD,sQAAC,8MAA4B;gBAC3B,aAAU;gBACV,WAAW,IAAA,0IAAE,EACX,+WACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIjB;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,0IAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,0IAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,sQAAC,4MAA0B;QACzB,aAAU;QACV,WAAW,IAAA,0IAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,sQAAC,kNAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,0IAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,sQAAC,6MAA2B;QAC1B,WAAW,IAAA,0IAAE,EAAC,IAAA,qKAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,sQAAC,6MAA2B;QAC1B,WAAW,IAAA,0IAAE,EAAC,IAAA,qKAAc,EAAC;YAAE,SAAS;QAAU,IAAI;QACrD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/lib/use-permissions.ts"],"sourcesContent":["import { useAuth } from './auth-context';\r\n\r\ntype ModuleType =\r\n    | 'dashboard'\r\n    | 'products'\r\n    | 'categories'\r\n    | 'sizes'\r\n    | 'colors'\r\n    | 'orders'\r\n    | 'carousel'\r\n    | 'settings'\r\n    | 'employees'\r\n    | 'groups'\r\n    | 'logs'\r\n    | 'account_settings';\r\n\r\ntype ActionType = 'view' | 'create' | 'edit' | 'delete' | 'export' | 'update_status';\r\n\r\n/**\r\n * Hook para verificar permissões granulares de funcionários\r\n * \r\n * @example\r\n * const { canCreate, canEdit, canDelete } = usePermissions('products');\r\n * \r\n * return (\r\n *   <>\r\n *     {canCreate && <button>Criar Produto</button>}\r\n *     {canEdit && <button>Editar</button>}\r\n *     {canDelete && <button>Deletar</button>}\r\n *   </>\r\n * );\r\n */\r\nexport function usePermissions(module: ModuleType) {\r\n    const { user, isAdmin } = useAuth();\r\n\r\n    // Proprietário (admin sem employeeGroupId) tem todas as permissões\r\n    if (isAdmin && !user?.employeeGroupId) {\r\n        return {\r\n            canView: true,\r\n            canCreate: true,\r\n            canEdit: true,\r\n            canDelete: true,\r\n            canExport: true,\r\n            canUpdateStatus: true,\r\n            hasPermission: (action: ActionType) => true,\r\n        };\r\n    }\r\n\r\n    // Funcionário: verifica permissões do grupo\r\n    const groupPermissions = user?.groupPermissions || [];\r\n    const modulePermission = groupPermissions.find(\r\n        (p: any) => p.module === module\r\n    );\r\n\r\n    if (!modulePermission) {\r\n        // Sem permissão para este módulo\r\n        return {\r\n            canView: false,\r\n            canCreate: false,\r\n            canEdit: false,\r\n            canDelete: false,\r\n            canExport: false,\r\n            canUpdateStatus: false,\r\n            hasPermission: (action: ActionType) => false,\r\n        };\r\n    }\r\n\r\n    // Extrai ações permitidas\r\n    const actions = modulePermission.actions || {};\r\n\r\n    // Helper para verificar ação case-insensitive\r\n    const hasAction = (action: string) => {\r\n        if (!actions) return false;\r\n        // 1. Match exato\r\n        if (actions[action] === true) return true;\r\n        // 2. Match Capitalized (Create)\r\n        const capitalized = action.charAt(0).toUpperCase() + action.slice(1);\r\n        if (actions[capitalized] === true) return true;\r\n        // 3. Match UPPERCASE (CREATE)\r\n        if (actions[action.toUpperCase()] === true) return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    return {\r\n        canView: hasAction('view'),\r\n        canCreate: hasAction('create'),\r\n        canEdit: hasAction('edit'),\r\n        canDelete: hasAction('delete'),\r\n        canExport: hasAction('export'),\r\n        canUpdateStatus: hasAction('update_status') || hasAction('updateStatus'), // suporte a camelCase também\r\n        hasPermission: (action: ActionType) => hasAction(action),\r\n    };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAgCO,SAAS,eAAe,MAAkB;IAC7C,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,0JAAO;IAEjC,mEAAmE;IACnE,IAAI,WAAW,CAAC,MAAM,iBAAiB;QACnC,OAAO;YACH,SAAS;YACT,WAAW;YACX,SAAS;YACT,WAAW;YACX,WAAW;YACX,iBAAiB;YACjB,eAAe,CAAC,SAAuB;QAC3C;IACJ;IAEA,4CAA4C;IAC5C,MAAM,mBAAmB,MAAM,oBAAoB,EAAE;IACrD,MAAM,mBAAmB,iBAAiB,IAAI,CAC1C,CAAC,IAAW,EAAE,MAAM,KAAK;IAG7B,IAAI,CAAC,kBAAkB;QACnB,iCAAiC;QACjC,OAAO;YACH,SAAS;YACT,WAAW;YACX,SAAS;YACT,WAAW;YACX,WAAW;YACX,iBAAiB;YACjB,eAAe,CAAC,SAAuB;QAC3C;IACJ;IAEA,0BAA0B;IAC1B,MAAM,UAAU,iBAAiB,OAAO,IAAI,CAAC;IAE7C,8CAA8C;IAC9C,MAAM,YAAY,CAAC;QACf;;QACA,iBAAiB;QACjB,IAAI,OAAO,CAAC,OAAO,KAAK,MAAM,OAAO;QACrC,gCAAgC;QAChC,MAAM,cAAc,OAAO,MAAM,CAAC,GAAG,WAAW,KAAK,OAAO,KAAK,CAAC;QAClE,IAAI,OAAO,CAAC,YAAY,KAAK,MAAM,OAAO;QAC1C,8BAA8B;QAC9B,IAAI,OAAO,CAAC,OAAO,WAAW,GAAG,KAAK,MAAM,OAAO;QAEnD,OAAO;IACX;IAEA,OAAO;QACH,SAAS,UAAU;QACnB,WAAW,UAAU;QACrB,SAAS,UAAU;QACnB,WAAW,UAAU;QACrB,WAAW,UAAU;QACrB,iBAAiB,UAAU,oBAAoB,UAAU;QACzD,eAAe,CAAC,SAAuB,UAAU;IACrD;AACJ"}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file:///E:/memoriza/codigo-fonte/memoriza-frontend/app/admin/tamanhos/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport {\r\n  Plus,\r\n  Edit2,\r\n  Trash2,\r\n  X,\r\n  Ruler,\r\n  Search,\r\n  LayoutGrid,\r\n  List,\r\n  Info,\r\n  XCircle,\r\n  AlertTriangle,\r\n} from \"lucide-react\"\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\"\r\nimport { toast } from \"sonner\"\r\nimport { useAuth } from \"@/lib/auth-context\"\r\nimport { usePermissions } from \"@/lib/use-permissions\"\r\n\r\nconst API_BASE_URL =\r\n  process.env.NEXT_PUBLIC_API_BASE_URL ?? \"https://localhost:7105\"\r\n\r\ntype ViewMode = \"list\" | \"grid\"\r\nconst VIEW_MODE_KEY = \"adminTamanhosViewMode\"\r\n\r\n// ===== Tipos da API (SizeResponseDto) =====\r\ninterface SizeApi {\r\n  id: number\r\n  name: string\r\n  isActive: boolean\r\n  createdAt: string\r\n}\r\n\r\ninterface ProductApi {\r\n  id: string\r\n  sizeIds: number[]\r\n  isActive: boolean\r\n}\r\n\r\n// Modelo usado na tela\r\ninterface Size {\r\n  id: number\r\n  nome: string\r\n  ativo: boolean\r\n  produtosCount: number\r\n  createdAt: string\r\n}\r\n\r\nexport default function AdminTamanhos() {\r\n  const { token, isLoading: authLoading } = useAuth()\r\n  const { canCreate, canEdit, canDelete } = usePermissions('sizes')\r\n\r\n  const [sizes, setSizes] = useState<Size[]>([])\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [editingSize, setEditingSize] = useState<Size | null>(null)\r\n  const [formData, setFormData] = useState({\r\n    nome: \"\",\r\n    ativo: true,\r\n  })\r\n\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [loading, setLoading] = useState(true)\r\n  const [saving, setSaving] = useState(false)\r\n\r\n  const [viewMode, setViewMode] = useState<ViewMode>(() => {\r\n    if (typeof window === \"undefined\") return \"list\"\r\n    const saved = window.localStorage.getItem(VIEW_MODE_KEY) as ViewMode | null\r\n    return saved === \"list\" || saved === \"grid\" ? saved : \"list\"\r\n  })\r\n\r\n  const changeViewMode = (mode: ViewMode) => {\r\n    setViewMode(mode)\r\n    if (typeof window !== \"undefined\") {\r\n      window.localStorage.setItem(VIEW_MODE_KEY, mode)\r\n    }\r\n  }\r\n\r\n  // Estado do AlertDialog de exclusão\r\n  const [deleteSizeDialog, setDeleteSizeDialog] = useState<{\r\n    open: boolean\r\n    sizeId: number | null\r\n    sizeName: string\r\n    isActive: boolean\r\n  }>({\r\n    open: false,\r\n    sizeId: null,\r\n    sizeName: \"\",\r\n    isActive: true,\r\n  })\r\n\r\n  // Estado do AlertDialog de conflito (tamanho vinculado a produtos)\r\n  const [deleteConflictOpen, setDeleteConflictOpen] = useState(false)\r\n  const [deleteConflictSize, setDeleteConflictSize] = useState<string | null>(\r\n    null,\r\n  )\r\n\r\n  // Estados para seleção múltipla\r\n  const [selectedIds, setSelectedIds] = useState<Set<number>>(new Set())\r\n  const [bulkDeleteDialog, setBulkDeleteDialog] = useState({\r\n    open: false,\r\n    count: 0,\r\n  })\r\n\r\n  const buildAuthHeaders = (\r\n    extra?: Record<string, string>,\r\n  ): Record<string, string> => {\r\n    const headers: Record<string, string> = { ...(extra ?? {}) }\r\n\r\n    if (token) {\r\n      headers[\"Authorization\"] = `Bearer ${token}`\r\n    }\r\n\r\n    return headers\r\n  }\r\n\r\n  const mapApiToSize = (s: SizeApi): Size => ({\r\n    id: s.id,\r\n    nome: s.name,\r\n    ativo: s.isActive,\r\n    produtosCount: 0,\r\n    createdAt: s.createdAt,\r\n  })\r\n\r\n  const fetchSizesList = async () => {\r\n    try {\r\n      setLoading(true)\r\n      const sizeRes = await fetch(`${API_BASE_URL}/api/sizes`, {\r\n        cache: \"no-store\",\r\n        headers: buildAuthHeaders(),\r\n      })\r\n\r\n      if (!sizeRes.ok) {\r\n        const text = await sizeRes.text()\r\n        console.error(\"Erro ao buscar tamanhos:\", text)\r\n        toast.error(\"Erro ao carregar tamanhos.\")\r\n        return\r\n      }\r\n\r\n      const sizesData: SizeApi[] = await sizeRes.json()\r\n\r\n      setSizes(sizesData.map((s) => mapApiToSize(s)))\r\n\r\n      void fetchProductCounts()\r\n    } catch (err) {\r\n      console.error(\"Erro ao buscar tamanhos:\", err)\r\n      toast.error(\"Erro ao conectar ao servidor.\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const fetchProductCounts = async () => {\r\n    try {\r\n      const prodRes = await fetch(`${API_BASE_URL}/api/products`, {\r\n        headers: buildAuthHeaders(),\r\n        cache: \"no-store\",\r\n      })\r\n\r\n      if (prodRes.ok) {\r\n        const productsData: ProductApi[] = await prodRes.json()\r\n        const productCounts: Record<number, number> = {}\r\n\r\n        productsData.forEach((p) => {\r\n          if (!p.isActive) return\r\n          ;(p.sizeIds || []).forEach((id) => {\r\n            productCounts[id] = (productCounts[id] || 0) + 1\r\n          })\r\n        })\r\n\r\n        setSizes((prev) =>\r\n          prev.map((s) => ({\r\n            ...s,\r\n            produtosCount: productCounts[s.id] || 0,\r\n          })),\r\n        )\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Erro ao buscar contagem de produtos:\", err)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (authLoading) return\r\n    void fetchSizesList()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [authLoading])\r\n\r\n  // ===== Filtro =====\r\n  const filteredSizes = sizes.filter((s) =>\r\n    s.nome.toLowerCase().includes(searchTerm.toLowerCase()),\r\n  )\r\n\r\n  // ===== Ordenação: ativos primeiro, inativos no final =====\r\n  const sortedSizes = [...filteredSizes].sort((a, b) => {\r\n    if (a.ativo !== b.ativo) {\r\n      return a.ativo ? -1 : 1\r\n    }\r\n\r\n    const dateA = new Date(a.createdAt).getTime()\r\n    const dateB = new Date(b.createdAt).getTime()\r\n    return dateB - dateA\r\n  })\r\n\r\n  const openCreateModal = () => {\r\n    setEditingSize(null)\r\n    setFormData({ nome: \"\", ativo: true })\r\n    setShowModal(true)\r\n  }\r\n\r\n  const openEditModal = (size: Size) => {\r\n    if (!canEdit) {\r\n      toast.error(\"Você não tem permissão para editar tamanhos\")\r\n      return\r\n    }\r\n    setEditingSize(size)\r\n    setFormData({\r\n      nome: size.nome,\r\n      ativo: size.ativo,\r\n    })\r\n    setShowModal(true)\r\n  }\r\n\r\n  const handleSave = async () => {\r\n    // Verifica permissões\r\n    if (editingSize && !canEdit) {\r\n      toast.error(\"Você não tem permissão para editar tamanhos\")\r\n      return\r\n    }\r\n    if (!editingSize && !canCreate) {\r\n      toast.error(\"Você não tem permissão para criar tamanhos\")\r\n      return\r\n    }\r\n\r\n    if (!formData.nome.trim()) {\r\n      toast.error(\"Informe o nome do tamanho.\")\r\n      return\r\n    }\r\n\r\n    setSaving(true)\r\n\r\n    const payloadCreate = {\r\n      name: formData.nome,\r\n    }\r\n\r\n    const payloadUpdate = {\r\n      name: formData.nome,\r\n      isActive: formData.ativo,\r\n    }\r\n\r\n    try {\r\n      if (editingSize) {\r\n        const res = await fetch(\r\n          `${API_BASE_URL}/api/sizes/${editingSize.id}`,\r\n          {\r\n            method: \"PUT\",\r\n            headers: buildAuthHeaders({\r\n              \"Content-Type\": \"application/json\",\r\n            }),\r\n            body: JSON.stringify(payloadUpdate),\r\n          },\r\n        )\r\n\r\n        if (!res.ok) {\r\n          console.error(\"Erro ao atualizar tamanho:\", await res.text())\r\n          toast.error(\"Não foi possível atualizar o tamanho.\")\r\n          return\r\n        }\r\n\r\n        toast.success(\"Tamanho atualizado com sucesso!\")\r\n      } else {\r\n        const res = await fetch(`${API_BASE_URL}/api/sizes`, {\r\n          method: \"POST\",\r\n          headers: buildAuthHeaders({\r\n            \"Content-Type\": \"application/json\",\r\n          }),\r\n          body: JSON.stringify(payloadCreate),\r\n        })\r\n\r\n        if (!res.ok) {\r\n          console.error(\"Erro ao criar tamanho:\", await res.text())\r\n          toast.error(\"Não foi possível criar o tamanho.\")\r\n          return\r\n        }\r\n\r\n        toast.success(\"Tamanho criado com sucesso!\")\r\n      }\r\n\r\n      await fetchSizesList()\r\n      setShowModal(false)\r\n    } catch (err) {\r\n      console.error(\"Erro ao salvar tamanho:\", err)\r\n      toast.error(\"Ocorreu um erro ao salvar o tamanho.\")\r\n    } finally {\r\n      setSaving(false)\r\n    }\r\n  }\r\n\r\n  // Abre diálogo de exclusão (2 cliques: inativar → excluir)\r\n  const handleDelete = (id: number) => {\r\n    if (!canDelete) {\r\n      toast.error(\"Você não tem permissão para excluir tamanhos\")\r\n      return\r\n    }\r\n    const size = sizes.find((s) => s.id === id)\r\n    if (!size) return\r\n\r\n    setDeleteSizeDialog({\r\n      open: true,\r\n      sizeId: id,\r\n      sizeName: size.nome,\r\n      isActive: size.ativo,\r\n    })\r\n  }\r\n\r\n  // Confirma exclusão/inativação\r\n  const confirmDeleteSize = async () => {\r\n    const { sizeId, isActive } = deleteSizeDialog\r\n    if (sizeId == null) return\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE_URL}/api/sizes/${sizeId}`, {\r\n        method: \"DELETE\",\r\n        headers: buildAuthHeaders(),\r\n      })\r\n\r\n      if (!res.ok && res.status !== 204) {\r\n        let errorMessage = \"\"\r\n\r\n        try {\r\n          const data = await res.json()\r\n          const rawMessage =\r\n            data?.message ?? data?.title ?? data?.detail ?? data?.error ?? \"\"\r\n          errorMessage = String(rawMessage ?? \"\")\r\n        } catch {\r\n          try {\r\n            const text = await res.text()\r\n            if (text) errorMessage = text\r\n          } catch {\r\n            // ignore\r\n          }\r\n        }\r\n\r\n        const normalizedMessage = errorMessage.toLowerCase()\r\n\r\n        const isLinkedToProduct =\r\n          res.status === 400 ||\r\n          res.status === 409 ||\r\n          res.status === 500 ||\r\n          normalizedMessage.includes(\"vinculad\") ||\r\n          normalizedMessage.includes(\"produto\")\r\n\r\n        if (isLinkedToProduct) {\r\n          setDeleteConflictSize(deleteSizeDialog.sizeName)\r\n          setDeleteConflictOpen(true)\r\n        } else {\r\n          console.error(\"Erro ao excluir tamanho:\", errorMessage)\r\n          toast.error(errorMessage || \"Erro ao excluir tamanho\")\r\n        }\r\n\r\n        setDeleteSizeDialog({\r\n          open: false,\r\n          sizeId: null,\r\n          sizeName: \"\",\r\n          isActive: true,\r\n        })\r\n        return\r\n      }\r\n\r\n      if (isActive) {\r\n        setSizes((prev) =>\r\n          prev.map((s) =>\r\n            s.id === sizeId\r\n              ? {\r\n                  ...s,\r\n                  ativo: false,\r\n                }\r\n              : s,\r\n          ),\r\n        )\r\n        toast.success(\"Tamanho marcado como inativo!\")\r\n      } else {\r\n        setSizes((prev) => prev.filter((s) => s.id !== sizeId))\r\n        toast.success(\r\n          \"Tamanho excluído permanentemente (se não tinha vínculos).\",\r\n        )\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Erro ao excluir tamanho:\", err)\r\n      toast.error(\"Ocorreu um erro ao excluir o tamanho.\")\r\n    }\r\n\r\n    setDeleteSizeDialog({\r\n      open: false,\r\n      sizeId: null,\r\n      sizeName: \"\",\r\n      isActive: true,\r\n    })\r\n  }\r\n\r\n  // ======= Lógica de Seleção Múltipla =======\r\n\r\n  const toggleSelect = (id: number) => {\r\n    const newSelected = new Set(selectedIds)\r\n    if (newSelected.has(id)) {\r\n      newSelected.delete(id)\r\n    } else {\r\n      newSelected.add(id)\r\n    }\r\n    setSelectedIds(newSelected)\r\n  }\r\n\r\n  const toggleSelectAll = () => {\r\n    if (selectedIds.size === sortedSizes.length) {\r\n      setSelectedIds(new Set())\r\n    } else {\r\n      setSelectedIds(new Set(sortedSizes.map((s) => s.id)))\r\n    }\r\n  }\r\n\r\n  const confirmBulkDelete = async () => {\r\n    if (!canDelete) {\r\n      toast.error(\"Você não tem permissão para excluir tamanhos\")\r\n      return\r\n    }\r\n    const idsToDelete = Array.from(selectedIds)\r\n    setBulkDeleteDialog({ open: false, count: 0 })\r\n\r\n    let successCount = 0\r\n    let failCount = 0\r\n\r\n    const results = await Promise.allSettled(\r\n      idsToDelete.map(async (id) => {\r\n        const size = sizes.find((s) => s.id === id)\r\n        if (!size) return { success: false, id }\r\n\r\n        const res = await fetch(`${API_BASE_URL}/api/sizes/${id}`, {\r\n          method: \"DELETE\",\r\n          headers: buildAuthHeaders(),\r\n        })\r\n\r\n        if (!res.ok && res.status !== 204) {\r\n          return { success: false, id }\r\n        }\r\n\r\n        return { success: true, id, wasActive: size.ativo }\r\n      }),\r\n    )\r\n\r\n    const newSizes = [...sizes]\r\n\r\n    results.forEach((result) => {\r\n      if (result.status === \"fulfilled\" && result.value.success) {\r\n        successCount++\r\n        const { id, wasActive } = result.value\r\n\r\n        const index = newSizes.findIndex((s) => s.id === id)\r\n        if (index !== -1) {\r\n          if (wasActive) {\r\n            newSizes[index] = { ...newSizes[index], ativo: false }\r\n          } else {\r\n            newSizes.splice(index, 1)\r\n          }\r\n        }\r\n      } else {\r\n        failCount++\r\n      }\r\n    })\r\n\r\n    setSizes(newSizes)\r\n    setSelectedIds(new Set())\r\n\r\n    if (successCount > 0) {\r\n      toast.success(`${successCount} tamanhos processados com sucesso!`)\r\n    }\r\n    if (failCount > 0) {\r\n      toast.error(\r\n        `${failCount} tamanhos não puderam ser excluídos (possível conflito).`,\r\n      )\r\n    }\r\n  }\r\n\r\n  const toggleStatus = async (id: number) => {\r\n    if (!canEdit) {\r\n      toast.error(\"Você não tem permissão para alterar status\")\r\n      return\r\n    }\r\n    const size = sizes.find((s) => s.id === id)\r\n    if (!size) return\r\n\r\n    const payloadUpdate = {\r\n      name: size.nome,\r\n      isActive: !size.ativo,\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE_URL}/api/sizes/${id}`, {\r\n        method: \"PUT\",\r\n        headers: buildAuthHeaders({\r\n          \"Content-Type\": \"application/json\",\r\n        }),\r\n        body: JSON.stringify(payloadUpdate),\r\n      })\r\n\r\n      if (!res.ok) {\r\n        console.error(\"Erro ao alterar status:\", await res.text())\r\n        toast.error(\"Não foi possível alterar o status do tamanho.\")\r\n        return\r\n      }\r\n\r\n      setSizes((prev) =>\r\n        prev.map((s) => (s.id === id ? { ...s, ativo: !s.ativo } : s)),\r\n      )\r\n      toast.success(\"Status do tamanho atualizado!\")\r\n    } catch (err) {\r\n      console.error(\"Erro ao alterar status:\", err)\r\n      toast.error(\"Ocorreu um erro ao alterar o status do tamanho.\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-8\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-light text-foreground\">Tamanhos</h1>\r\n          <p className=\"text-foreground/60\">\r\n            Gerencie os tamanhos disponíveis para seus produtos\r\n          </p>\r\n        </div>\r\n        {canCreate && (\r\n          <button\r\n            onClick={openCreateModal}\r\n            className=\"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg font-medium hover:bg-primary/90 transition-colors\"\r\n          >\r\n            <Plus size={18} />\r\n            Novo Tamanho\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Alerta de Instruções de Exclusão */}\r\n      <div className=\"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4 flex gap-3\">\r\n        <Info className=\"text-blue-600 flex-shrink-0 mt-0.5\" size={20} />\r\n        <div className=\"text-sm text-blue-900\">\r\n          <p className=\"font-medium mb-1\">Como funciona a exclusão:</p>\r\n          <ul className=\"list-disc list-inside space-y-1 text-blue-800\">\r\n            <li>\r\n              <strong>1º clique na lixeira:</strong> O tamanho fica inativo.\r\n            </li>\r\n            <li>\r\n              <strong>2º clique na lixeira:</strong> Se não houver vínculos com\r\n              produtos, o tamanho é removido permanentemente. Se houver\r\n              vínculos, permanece inativo.\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filtros & Toggle de visualização */}\r\n      <div className=\"flex flex-col sm:flex-row gap-4 mb-6 justify-between\">\r\n        <div className=\"relative flex-1 max-w-md\">\r\n          <Search\r\n            size={18}\r\n            className=\"absolute left-3 top-1/2 -translate-y-1/2 text-foreground/50\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Buscar por nome...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent\"\r\n          />\r\n        </div>\r\n        <div className=\"flex items-center bg-muted rounded-lg p-1 border border-border\">\r\n          <button\r\n            onClick={() => changeViewMode(\"list\")}\r\n            className={`p-2 rounded-md transition-all ${\r\n              viewMode === \"list\"\r\n                ? \"bg-background shadow-sm text-foreground\"\r\n                : \"text-foreground/60 hover:text-foreground\"\r\n            }`}\r\n          >\r\n            <List size={18} />\r\n          </button>\r\n          <button\r\n            onClick={() => changeViewMode(\"grid\")}\r\n            className={`p-2 rounded-md transition-all ${\r\n              viewMode === \"grid\"\r\n                ? \"bg-background shadow-sm text-foreground\"\r\n                : \"text-foreground/60 hover:text-foreground\"\r\n            }`}\r\n          >\r\n            <LayoutGrid size={18} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Bulk Actions Bar */}\r\n      {selectedIds.size > 0 && viewMode === \"list\" && (\r\n        <div className=\"mb-4 p-4 bg-primary/5 border border-primary/20 rounded-xl flex items-center justify-between animate-in fade-in slide-in-from-top-2\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-medium text-sm\">\r\n              {selectedIds.size}\r\n            </div>\r\n            <span className=\"text-sm font-medium text-foreground\">\r\n              tamanhos selecionados\r\n            </span>\r\n          </div>\r\n          <div className=\"flex items-center gap-3\">\r\n            <button\r\n              onClick={() => setSelectedIds(new Set())}\r\n              className=\"text-sm text-foreground/60 hover:text-foreground transition-colors\"\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button\r\n              onClick={() =>\r\n                setBulkDeleteDialog({ open: true, count: selectedIds.size })\r\n              }\r\n              className=\"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-sm\"\r\n            >\r\n              <Trash2 size={16} />\r\n              <span className=\"font-medium\">Excluir selecionados</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Conteúdo */}\r\n      {loading ? (\r\n        <div className=\"py-12 text-center text-foreground/60\">\r\n          Carregando tamanhos...\r\n        </div>\r\n      ) : viewMode === \"grid\" ? (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {sortedSizes.map((size) => {\r\n            const isInactive = !size.ativo\r\n\r\n            return (\r\n              <div\r\n                key={size.id}\r\n                className={`bg-card border rounded-xl p-6 transition-all ${\r\n                  isInactive ? \"border-border/50 opacity-70\" : \"border-border\"\r\n                }`}\r\n              >\r\n                <div className=\"flex items-start justify-between mb-4\">\r\n                  <div\r\n                    className={`p-3 rounded-lg bg-muted ${\r\n                      isInactive ? \"opacity-70\" : \"\"\r\n                    }`}\r\n                  >\r\n                    <Ruler\r\n                      size={24}\r\n                      className={\r\n                        isInactive ? \"text-foreground/40\" : \"text-accent\"\r\n                      }\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex items-center gap-1\">\r\n                    {canEdit && (\r\n                      <button\r\n                        onClick={() => openEditModal(size)}\r\n                        className={`p-2 text-foreground/60 hover:text-primary hover:bg-muted rounded-lg transition-colors ${\r\n                          isInactive ? \"opacity-60\" : \"\"\r\n                        }`}\r\n                      >\r\n                        <Edit2 size={16} />\r\n                      </button>\r\n                    )}\r\n                    {canDelete && (\r\n                      <button\r\n                        onClick={() => handleDelete(size.id)}\r\n                        className={`p-2 text-foreground/60 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors ${\r\n                          isInactive ? \"opacity-60\" : \"\"\r\n                        }`}\r\n                      >\r\n                        <Trash2 size={16} />\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <h3\r\n                  className={`font-medium mb-1 ${\r\n                    isInactive ? \"text-foreground/70\" : \"text-foreground\"\r\n                  }`}\r\n                >\r\n                  {size.nome}\r\n                </h3>\r\n\r\n                <p\r\n                  className={`text-sm mb-4 ${\r\n                    isInactive ? \"text-foreground/60\" : \"text-foreground/70\"\r\n                  }`}\r\n                >\r\n                  {size.produtosCount} produtos utilizando\r\n                </p>\r\n\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span\r\n                    className={`text-sm ${\r\n                      isInactive ? \"text-foreground/60\" : \"text-foreground/60\"\r\n                    }`}\r\n                  >\r\n                    ID #{size.id}\r\n                  </span>\r\n                  <button\r\n                    onClick={() => toggleStatus(size.id)}\r\n                    className={`px-3 py-1 rounded-full text-xs font-medium transition-colors ${\r\n                      size.ativo\r\n                        ? \"bg-green-100 text-green-700 hover:bg-green-200\"\r\n                        : \"bg-red-100 text-red-700 hover:bg-red-200\"\r\n                    }`}\r\n                  >\r\n                    {size.ativo ? \"Ativo\" : \"Inativo\"}\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"mt-4 pt-4 border-t border-border flex justify-end\">\r\n                  <span className=\"text-xs text-foreground/40\">\r\n                    Criado em{\" \"}\r\n                    {new Date(size.createdAt).toLocaleDateString(\"pt-BR\")}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-card border border-border rounded-xl overflow-hidden\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead className=\"bg-muted border-b border-border\">\r\n                <tr>\r\n                  <th className=\"w-[50px] px-6 py-4\">\r\n                    {canDelete && (\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={\r\n                          sortedSizes.length > 0 &&\r\n                          selectedIds.size === sortedSizes.length\r\n                        }\r\n                        onChange={toggleSelectAll}\r\n                        className=\"w-4 h-4 rounded border-border text-primary focus:ring-primary accent-primary\"\r\n                      />\r\n                    )}\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-foreground\">\r\n                    Tamanho\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-foreground\">\r\n                    Produtos\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-foreground\">\r\n                    Status\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-sm font-medium text-foreground\">\r\n                    Criado em\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-center text-sm font-medium text-foreground\">\r\n                    Ações\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-border\">\r\n                {sortedSizes.map((size) => {\r\n                  const isInactive = !size.ativo\r\n\r\n                  return (\r\n                    <tr\r\n                      key={size.id}\r\n                      className={`transition-colors ${\r\n                        isInactive\r\n                          ? \"bg-muted/50 opacity-70\"\r\n                          : \"hover:bg-muted/50\"\r\n                      }`}\r\n                    >\r\n                      <td className=\"px-6 py-4\">\r\n                        {canDelete && (\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={selectedIds.has(size.id)}\r\n                            onChange={() => toggleSelect(size.id)}\r\n                            className=\"w-4 h-4 rounded border-border text-primary focus:ring-primary accent-primary\"\r\n                          />\r\n                        )}\r\n                      </td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <div\r\n                            className={`p-2 rounded-lg bg-muted ${\r\n                              isInactive ? \"opacity-70\" : \"\"\r\n                            }`}\r\n                          >\r\n                            <Ruler\r\n                              size={16}\r\n                              className={\r\n                                isInactive\r\n                                  ? \"text-foreground/40\"\r\n                                  : \"text-accent\"\r\n                              }\r\n                            />\r\n                          </div>\r\n                          <span\r\n                            className={`font-medium ${\r\n                              isInactive\r\n                                ? \"text-foreground/70\"\r\n                                : \"text-foreground\"\r\n                            }`}\r\n                          >\r\n                            {size.nome}\r\n                          </span>\r\n                        </div>\r\n                      </td>\r\n                      <td\r\n                        className={`px-6 py-4 text-sm ${\r\n                          isInactive\r\n                            ? \"text-foreground/60\"\r\n                            : \"text-foreground/70\"\r\n                        }`}\r\n                      >\r\n                        {size.produtosCount}\r\n                      </td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <button\r\n                          onClick={() => toggleStatus(size.id)}\r\n                          className={`px-2 py-1 rounded-full text-xs font-medium transition-colors ${\r\n                            size.ativo\r\n                              ? \"bg-green-100 text-green-700 hover:bg-green-200\"\r\n                              : \"bg-red-100 text-red-700 hover:bg-red-200\"\r\n                          }`}\r\n                        >\r\n                          {size.ativo ? \"Ativo\" : \"Inativo\"}\r\n                        </button>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-sm text-foreground/70\">\r\n                        {new Date(size.createdAt).toLocaleDateString(\"pt-BR\")}\r\n                      </td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <div className=\"flex items-center justify-center gap-2\">\r\n                          {canEdit && (\r\n                            <button\r\n                              onClick={() => openEditModal(size)}\r\n                              className={`p-2 text-foreground/60 hover:text-primary hover:bg-muted rounded-lg transition-colors ${\r\n                                isInactive ? \"opacity-60\" : \"\"\r\n                              }`}\r\n                            >\r\n                              <Edit2 size={16} />\r\n                            </button>\r\n                          )}\r\n                          {canDelete && (\r\n                            <button\r\n                              onClick={() => handleDelete(size.id)}\r\n                              className={`p-2 text-foreground/60 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors ${\r\n                                isInactive ? \"opacity-60\" : \"\"\r\n                              }`}\r\n                            >\r\n                              <Trash2 size={16} />\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  )\r\n                })}\r\n\r\n                {sortedSizes.length === 0 && !loading && (\r\n                  <tr>\r\n                    <td\r\n                      colSpan={6}\r\n                      className=\"px-6 py-8 text-center text-foreground/60\"\r\n                    >\r\n                      Nenhum tamanho encontrado.\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal de criação/edição */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-card border border-border rounded-xl w-full max-w-md\">\r\n            <div className=\"flex items-center justify-between p-6 border-b border-border\">\r\n              <h2 className=\"text-xl font-medium text-foreground\">\r\n                {editingSize ? \"Editar Tamanho\" : \"Novo Tamanho\"}\r\n              </h2>\r\n              <button\r\n                onClick={() => setShowModal(false)}\r\n                className=\"text-foreground/60 hover:text-foreground\"\r\n              >\r\n                <X size={20} />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                  Nome do Tamanho\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.nome}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, nome: e.target.value })\r\n                  }\r\n                  className=\"w-full px-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent\"\r\n                  placeholder=\"Ex: 10x15 cm\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"ativo\"\r\n                  checked={formData.ativo}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, ativo: e.target.checked })\r\n                  }\r\n                  className=\"accent-accent\"\r\n                />\r\n                <label htmlFor=\"ativo\" className=\"text-sm text-foreground\">\r\n                  Tamanho ativo\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-end gap-3 p-6 border-t border-border\">\r\n              <button\r\n                onClick={() => setShowModal(false)}\r\n                className=\"px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors\"\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                onClick={handleSave}\r\n                disabled={saving}\r\n                className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-70 disabled:cursor-not-allowed\"\r\n              >\r\n                {saving ? \"Salvando...\" : editingSize ? \"Salvar\" : \"Criar\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* AlertDialog de exclusão simples */}\r\n      <AlertDialog\r\n        open={deleteSizeDialog.open}\r\n        onOpenChange={(open) =>\r\n          setDeleteSizeDialog((prev) => ({ ...prev, open }))\r\n        }\r\n      >\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>\r\n              {deleteSizeDialog.isActive\r\n                ? \"Marcar tamanho como inativo?\"\r\n                : \"Excluir tamanho definitivamente?\"}\r\n            </AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              {deleteSizeDialog.isActive\r\n                ? \"Ao confirmar, o tamanho será marcado como inativo. Ele não poderá mais ser usado em novos produtos, mas continuará vinculado aos registros existentes.\"\r\n                : \"Ao confirmar, tentaremos excluir o tamanho. Se houver vínculos com produtos, ele permanecerá apenas como inativo.\"}\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n\r\n          <div className=\"mt-4 text-sm text-muted-foreground\">\r\n            <span className=\"font-semibold\">Tamanho: </span>\r\n            <span>{deleteSizeDialog.sizeName}</span>\r\n          </div>\r\n\r\n          <AlertDialogFooter className=\"mt-4\">\r\n            <AlertDialogCancel>Cancelar</AlertDialogCancel>\r\n            <AlertDialogAction\r\n              onClick={(e) => {\r\n                e.preventDefault()\r\n                void confirmDeleteSize()\r\n              }}\r\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\r\n            >\r\n              Confirmar\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n\r\n      {/* Alert – Tamanho Vinculado a Produtos */}\r\n      <AlertDialog open={deleteConflictOpen} onOpenChange={setDeleteConflictOpen}>\r\n        <AlertDialogContent className=\"overflow-hidden border-0 max-w-md\">\r\n          <div className=\"bg-white rounded-2xl p-6\">\r\n            <AlertDialogHeader>\r\n              <AlertDialogTitle className=\"flex items-center gap-2 text-red-900\">\r\n                <XCircle className=\"w-5 h-5 text-red-500\" />\r\n                Tamanho não pode ser excluído\r\n              </AlertDialogTitle>\r\n\r\n              <AlertDialogDescription className=\"space-y-3 text-gray-600\">\r\n                <span className=\"block\">\r\n                  Este tamanho não pode ser excluído pois já está vinculado a{\" \"}\r\n                  <strong>um ou mais produtos</strong>.\r\n                </span>\r\n\r\n                {deleteConflictSize && (\r\n                  <span className=\"block rounded-xl bg-gray-100 px-4 py-3 text-sm\">\r\n                    <span className=\"font-medium text-gray-900\">\r\n                      Tamanho:\r\n                    </span>{\" \"}\r\n                    {deleteConflictSize}\r\n                  </span>\r\n                )}\r\n\r\n                <span className=\"mt-1 flex items-start gap-2 text-xs bg-amber-50 border border-amber-200 rounded-lg p-3\">\r\n                  <AlertTriangle className=\"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0\" />\r\n                  <span>\r\n                    Para manter a integridade dos produtos, tamanhos associados\r\n                    não podem ser removidos. Eles permanecem como{\" \"}\r\n                    <strong>inativos</strong>.\r\n                  </span>\r\n                </span>\r\n              </AlertDialogDescription>\r\n            </AlertDialogHeader>\r\n\r\n            <AlertDialogFooter className=\"mt-6 gap-3\">\r\n              <AlertDialogAction\r\n                onClick={() => setDeleteConflictOpen(false)}\r\n                className=\"bg-blue-600 hover:bg-blue-700 text-white rounded-xl\"\r\n              >\r\n                Fechar\r\n              </AlertDialogAction>\r\n            </AlertDialogFooter>\r\n          </div>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n\r\n      {/* Alert – Bulk Delete */}\r\n      <AlertDialog\r\n        open={bulkDeleteDialog.open}\r\n        onOpenChange={(open) =>\r\n          setBulkDeleteDialog((prev) => ({ ...prev, open }))\r\n        }\r\n      >\r\n        <AlertDialogContent className=\"max-w-md\">\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>\r\n              Excluir {bulkDeleteDialog.count} tamanhos?\r\n            </AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              Você selecionou <strong>{bulkDeleteDialog.count} tamanhos</strong>{\" \"}\r\n              para exclusão. Confira as regras abaixo:\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n\r\n          <div className=\"mt-3\">\r\n            <ul className=\"list-disc list-inside space-y-1 text-sm text-muted-foreground\">\r\n              <li>\r\n                Tamanhos ativos serão marcados como{\" \"}\r\n                <strong>inativos</strong>.\r\n              </li>\r\n              <li>\r\n                Tamanhos inativos serão{\" \"}\r\n                <strong>excluídos permanentemente</strong>.\r\n              </li>\r\n              <li>\r\n                Tamanhos com vínculos serão mantidos (apenas inativados).\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <AlertDialogFooter className=\"mt-4\">\r\n            <AlertDialogCancel>Cancelar</AlertDialogCancel>\r\n            <AlertDialogAction\r\n              onClick={confirmBulkDelete}\r\n              className=\"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500\"\r\n            >\r\n              Confirmar exclusão em lote\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}}]
}